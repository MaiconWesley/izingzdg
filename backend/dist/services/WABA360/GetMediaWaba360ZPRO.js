'use strict';
const _0x101478 = _0x547c;
(function (_0x3d006e, _0x1831da) {
    const _0x111553 = _0x547c, _0x388943 = _0x3d006e();
    while (!![]) {
        try {
            const _0x678e9a = parseInt(_0x111553(0x171)) / (0x21b9 + 0xb * 0xa9 + 0x1 * -0x28fb) * (-parseInt(_0x111553(0x17e)) / (0x1202 + -0x5c4 * 0x3 + -0xb4)) + parseInt(_0x111553(0x1b2)) / (0x4df + -0x70 * -0x7 + 0xa9 * -0xc) + -parseInt(_0x111553(0x162)) / (-0xc89 * -0x1 + -0x257 * 0x2 + -0x7d7) + parseInt(_0x111553(0x17d)) / (0x2699 + 0x228 + -0x28bc) * (parseInt(_0x111553(0x1ad)) / (0xd * 0x265 + -0x172c + 0x1 * -0x7ef)) + -parseInt(_0x111553(0x172)) / (-0x1 * -0x24a7 + 0x50 * 0xf + 0x2950 * -0x1) + -parseInt(_0x111553(0x159)) / (0x11 * -0x6d + -0x2243 + -0x2988 * -0x1) * (parseInt(_0x111553(0x189)) / (-0x2 * -0x3fd + -0x1220 * 0x1 + 0xb * 0xed)) + parseInt(_0x111553(0x199)) / (-0x2 * -0xbd5 + 0x3a8 * 0x8 + 0x34e * -0x10);
            if (_0x678e9a === _0x1831da)
                break;
            else
                _0x388943['push'](_0x388943['shift']());
        } catch (_0x5f575f) {
            _0x388943['push'](_0x388943['shift']());
        }
    }
}(_0x1365, 0x49fc + -0x2b6bd + 0x45bb * 0x1e));
var __awaiter = this && this[_0x101478(0x1a7)] || function (_0x27de56, _0x51687d, _0x21c910, _0x1b790c) {
        const _0x50ac62 = _0x101478, _0x8dc7dd = {
                'vYcoE': function (_0x46e682, _0x45394a) {
                    return _0x46e682(_0x45394a);
                },
                'zwqWv': function (_0x2113eb, _0x21bbd4) {
                    return _0x2113eb instanceof _0x21bbd4;
                },
                'HzseU': function (_0x43fdc1, _0x492116) {
                    return _0x43fdc1(_0x492116);
                },
                'CPUli': _0x50ac62(0x157),
                'MTTdW': function (_0x32b451, _0x1700d3) {
                    return _0x32b451(_0x1700d3);
                },
                'PhqiP': function (_0xfce180, _0x1095f7) {
                    return _0xfce180(_0x1095f7);
                }
            };
        function _0x5b96f1(_0x3abb0e) {
            const _0x18940c = _0x50ac62, _0x4c1b88 = {
                    'jcKiz': function (_0xf69103, _0xa74edc) {
                        const _0x1658b5 = _0x547c;
                        return _0x8dc7dd[_0x1658b5(0x15e)](_0xf69103, _0xa74edc);
                    }
                };
            return _0x8dc7dd[_0x18940c(0x1ae)](_0x3abb0e, _0x21c910) ? _0x3abb0e : new _0x21c910(function (_0x14b540) {
                const _0x1e4d49 = _0x18940c;
                _0x4c1b88[_0x1e4d49(0x19a)](_0x14b540, _0x3abb0e);
            });
        }
        return new (_0x21c910 || (_0x21c910 = Promise))(function (_0x687e98, _0x4f55e8) {
            const _0x5dfc16 = _0x50ac62, _0x2065da = {
                    'UzJck': function (_0x3f8150, _0x273db3) {
                        const _0x4a4cee = _0x547c;
                        return _0x8dc7dd[_0x4a4cee(0x1b5)](_0x3f8150, _0x273db3);
                    },
                    'eoBSe': _0x8dc7dd[_0x5dfc16(0x17a)],
                    'gafKn': function (_0x4f602e, _0x32ce59) {
                        const _0x3af0d9 = _0x5dfc16;
                        return _0x8dc7dd[_0x3af0d9(0x1b5)](_0x4f602e, _0x32ce59);
                    },
                    'NBZhy': function (_0x138be6, _0xe45046) {
                        const _0x5cdb4f = _0x5dfc16;
                        return _0x8dc7dd[_0x5cdb4f(0x18e)](_0x138be6, _0xe45046);
                    }
                };
            function _0x594d0f(_0x5a26ae) {
                const _0x223b69 = _0x5dfc16;
                try {
                    _0x2065da[_0x223b69(0x1a4)](_0x5d7656, _0x1b790c[_0x223b69(0x18d)](_0x5a26ae));
                } catch (_0x10d125) {
                    _0x2065da[_0x223b69(0x1a4)](_0x4f55e8, _0x10d125);
                }
            }
            function _0x3e905c(_0xfafcdb) {
                const _0x24a4f8 = _0x5dfc16;
                try {
                    _0x2065da[_0x24a4f8(0x1a4)](_0x5d7656, _0x1b790c[_0x2065da[_0x24a4f8(0x1b0)]](_0xfafcdb));
                } catch (_0x2bb19d) {
                    _0x2065da[_0x24a4f8(0x177)](_0x4f55e8, _0x2bb19d);
                }
            }
            function _0x5d7656(_0x58b787) {
                const _0x3d5323 = _0x5dfc16;
                _0x58b787[_0x3d5323(0x15f)] ? _0x2065da[_0x3d5323(0x173)](_0x687e98, _0x58b787[_0x3d5323(0x160)]) : _0x2065da[_0x3d5323(0x1a4)](_0x5b96f1, _0x58b787[_0x3d5323(0x160)])[_0x3d5323(0x1ac)](_0x594d0f, _0x3e905c);
            }
            _0x8dc7dd[_0x5dfc16(0x190)](_0x5d7656, (_0x1b790c = _0x1b790c[_0x5dfc16(0x1a6)](_0x27de56, _0x51687d || []))[_0x5dfc16(0x18d)]());
        });
    }, __importDefault = this && this[_0x101478(0x168) + _0x101478(0x19b)] || function (_0x5d8944) {
        const _0x1e0b94 = _0x101478;
        return _0x5d8944 && _0x5d8944[_0x1e0b94(0x164)] ? _0x5d8944 : { 'default': _0x5d8944 };
    };
function _0x547c(_0x54e5be, _0x16b012) {
    const _0x3951c4 = _0x1365();
    return _0x547c = function (_0x4dfcd8, _0x10a2ae) {
        _0x4dfcd8 = _0x4dfcd8 - (-0x1231 + -0x1 * 0x5fb + 0x1 * 0x1981);
        let _0xcd781a = _0x3951c4[_0x4dfcd8];
        return _0xcd781a;
    }, _0x547c(_0x54e5be, _0x16b012);
}
const _0x33389f = {};
_0x33389f[_0x101478(0x160)] = !![], Object[_0x101478(0x155) + _0x101478(0x1b3)](exports, _0x101478(0x164), _0x33389f);
function _0x1365() {
    const _0x543630 = [
        'abCvZ',
        'API_URL_36',
        'getTime',
        'pYKMm',
        'UzJck',
        'audio',
        'apply',
        '__awaiter',
        'method',
        ':\x20ERROR\x20DO',
        'Mvfnq',
        'VaoiJ',
        'then',
        '54jDMxVJ',
        'zwqWv',
        'GET',
        'eoBSe',
        'length',
        '863658RIjVpg',
        'erty',
        '360_NOT_DO',
        'HzseU',
        'defineProp',
        'AhYSY',
        'throw',
        'warn',
        '8RHpBgw',
        'WNLOAD_MED',
        'data',
        'PFZrV',
        '/v1/media/',
        'vYcoE',
        'done',
        'value',
        ':::\x20ZDG\x20::',
        '1022936lDYRdE',
        'public',
        '__esModule',
        '../../erro',
        'eStream',
        'dTJAv',
        '__importDe',
        '../../util',
        'voice',
        ':::\x20Z-PRO\x20',
        'D360-API-K',
        'document',
        'image',
        'video',
        'headers',
        '10IDaqEG',
        '765415bluGqA',
        'NBZhy',
        'error',
        'xigVb',
        'split',
        'gafKn',
        's/loggerZP',
        'ngppD',
        'CPUli',
        'tokenAPI',
        'ORlLC',
        '227635JKgkWL',
        '40628uUnSzA',
        'WNLOAD',
        'logger',
        'VNcHK',
        'createWrit',
        'path',
        'join',
        'filename',
        'Gtpay',
        'default',
        'rZPRO',
        '1426662pHUWRx',
        'LateY',
        'env',
        'RuWVy',
        'next',
        'MTTdW',
        'IA:\x20',
        'PhqiP',
        'stream',
        'EpjuR',
        'pipe',
        'finish',
        'mEYlc',
        'mime_type',
        'rpQkg',
        'axios',
        '4057250UoEKyh',
        'jcKiz',
        'fault',
        'responseTy',
        'QAFAZ',
        'url',
        'rs/AppErro'
    ];
    _0x1365 = function () {
        return _0x543630;
    };
    return _0x1365();
}
const axios_1 = __importDefault(require(_0x101478(0x198))), fs_1 = require('fs'), path_1 = require(_0x101478(0x183)), AppErrorZPRO_1 = __importDefault(require(_0x101478(0x165) + _0x101478(0x19f) + _0x101478(0x188))), loggerZPRO_1 = require(_0x101478(0x169) + _0x101478(0x178) + 'RO'), downloadFile = (_0xb36bbe, _0x49c601, _0x3ca32d) => __awaiter(void (-0x11da * -0x2 + -0x1 * -0x822 + -0x1 * 0x2bd6), void (0x4 * 0x5e2 + 0x43 * 0x25 + -0x305 * 0xb), void (-0x7de + -0xa * -0x17f + -0x38c * 0x2), function* () {
        const _0x5388c4 = _0x101478, _0x56868c = {
                'EpjuR': function (_0x55e063, _0x1a95e6) {
                    return _0x55e063(_0x1a95e6);
                },
                'RuWVy': _0x5388c4(0x16b) + _0x5388c4(0x161) + _0x5388c4(0x1a9) + _0x5388c4(0x17f),
                'VNcHK': function (_0x5656ad, _0x337f4b) {
                    return _0x5656ad(_0x337f4b);
                },
                'xigVb': _0x5388c4(0x194),
                'ngppD': _0x5388c4(0x174),
                'AhYSY': _0x5388c4(0x163),
                'mEYlc': _0x5388c4(0x1af),
                'VaoiJ': _0x5388c4(0x191)
            }, _0x3a0aa6 = process[_0x5388c4(0x18b)][_0x5388c4(0x1a1) + '0'] + _0x5388c4(0x15d) + _0x49c601, _0x5f33eb = (-0xc9 * -0x27 + 0x3 * -0x283 + 0xb8b * -0x2, path_1[_0x5388c4(0x184)])(__dirname, '..', '..', _0x56868c[_0x5388c4(0x156)], _0x3ca32d), _0xbce1fc = {};
        _0xbce1fc[_0x5388c4(0x16c) + 'EY'] = _0xb36bbe;
        const _0xf02178 = {};
        _0xf02178[_0x5388c4(0x19e)] = _0x3a0aa6, _0xf02178[_0x5388c4(0x1a8)] = _0x56868c[_0x5388c4(0x195)], _0xf02178[_0x5388c4(0x19c) + 'pe'] = _0x56868c[_0x5388c4(0x1ab)], _0xf02178[_0x5388c4(0x170)] = _0xbce1fc;
        const _0x497d81 = yield (0x4 * 0x679 + -0x27a + 0x29a * -0x9, axios_1[_0x5388c4(0x187)])(_0xf02178);
        yield new Promise((_0xf2587f, _0x516f85) => {
            const _0x598fec = _0x5388c4, _0x33919f = {
                    'pYKMm': function (_0x386311, _0x1112cc) {
                        const _0x276168 = _0x547c;
                        return _0x56868c[_0x276168(0x192)](_0x386311, _0x1112cc);
                    },
                    'Gtpay': _0x56868c[_0x598fec(0x18c)],
                    'abCvZ': function (_0x47b01a, _0x1a67f0) {
                        const _0x46b6c2 = _0x598fec;
                        return _0x56868c[_0x46b6c2(0x181)](_0x47b01a, _0x1a67f0);
                    }
                };
            _0x497d81[_0x598fec(0x15b)][_0x598fec(0x193)]((0xd10 + 0xbaf + -0x23 * 0xb5, fs_1[_0x598fec(0x182) + _0x598fec(0x166)])(_0x5f33eb))['on'](_0x56868c[_0x598fec(0x175)], () => __awaiter(void (-0x1 * -0x22f4 + 0x18b6 + 0x7 * -0x886), void (0x1230 + 0x141f + -0x264f), void (-0x26ee + 0x1085 * -0x1 + -0x5 * -0xb17), function* () {
                const _0x3602ef = _0x598fec;
                return _0x33919f[_0x3602ef(0x1a3)](_0xf2587f, !![]);
            }))['on'](_0x56868c[_0x598fec(0x179)], _0x258e79 => {
                const _0x594e43 = _0x598fec;
                loggerZPRO_1[_0x594e43(0x180)][_0x594e43(0x158)](_0x33919f[_0x594e43(0x186)], _0x258e79), _0x33919f[_0x594e43(0x1a0)](_0x516f85, new Error(_0x258e79));
            });
        });
    }), GetMediaWaba360 = ({
        channel: _0x422a96,
        msg: _0x1c70b4,
        ticket: _0xa59bc7
    }) => __awaiter(void (-0x2 * -0x4d5 + 0xcb4 + 0x165e * -0x1), void (-0x1 * -0xcf1 + 0x11 * -0x186 + 0xcf5), void (0x7 * -0x130 + 0x176c + -0xf1c), function* () {
        const _0x195985 = _0x101478, _0x168289 = {
                'QAFAZ': function (_0x40e36b, _0x2a586f) {
                    return _0x40e36b === _0x2a586f;
                },
                'PFZrV': function (_0x1d2235, _0x2933d8) {
                    return _0x1d2235 === _0x2933d8;
                },
                'LateY': function (_0x46ffef, _0x8201d9) {
                    return _0x46ffef === _0x8201d9;
                },
                'Mvfnq': function (_0x2e9d1a, _0x531741) {
                    return _0x2e9d1a > _0x531741;
                },
                'ORlLC': function (_0x43a6e6, _0x5cf2e7) {
                    return _0x43a6e6 === _0x5cf2e7;
                },
                'dTJAv': function (_0x28dce6, _0x287976) {
                    return _0x28dce6 === _0x287976;
                },
                'rpQkg': function (_0x250649, _0x428679, _0x4e4484, _0x5b1b13) {
                    return _0x250649(_0x428679, _0x4e4484, _0x5b1b13);
                }
            };
        try {
            let _0x27d12b = '', _0x3f9ca5, _0x3e7073;
            (_0x168289[_0x195985(0x19d)](_0x1c70b4, null) || _0x168289[_0x195985(0x19d)](_0x1c70b4, void (0x301 * 0xd + 0x1 * -0x17e1 + -0xf2c)) ? void (-0x1042 * 0x1 + -0x1a81 + -0x2ac3 * -0x1) : _0x1c70b4[_0x195985(0x16d)]) && (_0x27d12b = _0x1c70b4[_0x195985(0x16d)]['id'] || '', _0x3f9ca5 = _0x1c70b4[_0x195985(0x16d)][_0x195985(0x185)], _0x3e7073 = _0x1c70b4[_0x195985(0x16d)][_0x195985(0x196)]);
            (_0x168289[_0x195985(0x19d)](_0x1c70b4, null) || _0x168289[_0x195985(0x15c)](_0x1c70b4, void (0x509 * 0x3 + 0xa9 * 0x3 + -0x2 * 0x88b)) ? void (0xf2a + -0x22ef + -0x7 * -0x2d3) : _0x1c70b4[_0x195985(0x16e)]) && (_0x27d12b = _0x1c70b4[_0x195985(0x16e)]['id'] || '', _0x3e7073 = _0x1c70b4[_0x195985(0x16e)][_0x195985(0x196)]);
            (_0x168289[_0x195985(0x18a)](_0x1c70b4, null) || _0x168289[_0x195985(0x19d)](_0x1c70b4, void (0x2b * 0xc1 + -0x1bf0 + -0x47b)) ? void (-0xf87 + -0x1f79 + 0x2f00) : _0x1c70b4[_0x195985(0x16f)]) && (_0x27d12b = _0x1c70b4[_0x195985(0x16f)]['id'] || '', _0x3e7073 = _0x1c70b4[_0x195985(0x16f)][_0x195985(0x196)]);
            if (_0x168289[_0x195985(0x15c)](_0x1c70b4, null) || _0x168289[_0x195985(0x18a)](_0x1c70b4, void (-0x63b * 0x3 + -0xcbc * -0x1 + 0x5f5)) ? void (0x17a2 + -0x1775 * -0x1 + 0x5 * -0x96b) : _0x1c70b4[_0x195985(0x16a)]) {
                _0x27d12b = _0x1c70b4[_0x195985(0x16a)]['id'] || '';
                const _0x92969e = _0x1c70b4[_0x195985(0x16a)][_0x195985(0x196)] || '', _0x19e646 = _0x92969e[_0x195985(0x176)](';');
                _0x3e7073 = _0x168289[_0x195985(0x1aa)](_0x19e646[_0x195985(0x1b1)], 0x8 * 0x35e + 0x1139 + -0x2c28) ? _0x19e646[0x924 + -0x28e * 0xb + 0x12f6] : _0x1c70b4[_0x195985(0x16a)][_0x195985(0x196)];
            }
            (_0x168289[_0x195985(0x15c)](_0x1c70b4, null) || _0x168289[_0x195985(0x17c)](_0x1c70b4, void (-0xdd * -0x9 + 0x24cf + 0x13d * -0x24)) ? void (-0x463 * 0x5 + -0x4 * 0x3c7 + 0x250b) : _0x1c70b4[_0x195985(0x1a5)]) && (_0x27d12b = _0x1c70b4[_0x195985(0x1a5)]['id'] || '', _0x3e7073 = _0x1c70b4[_0x195985(0x1a5)][_0x195985(0x196)]);
            const _0x1f92a2 = _0x168289[_0x195985(0x19d)](_0x3e7073, null) || _0x168289[_0x195985(0x167)](_0x3e7073, void (-0x1e6a * -0x1 + -0x968 + -0x1502)) ? void (-0x212f * -0x1 + 0x228e + -0x43bd) : _0x3e7073[_0x195985(0x176)]('/')[0x1d76 + 0x9 * -0x100 + -0x1475][_0x195985(0x176)](';')[-0x1091 * -0x1 + -0x24fd + -0x4 * -0x51b], _0x33b371 = new Date()[_0x195985(0x1a2)](), _0x1c33fc = _0x3f9ca5 ? _0x3f9ca5 + '_' + _0xa59bc7['id'] + '_' + _0x27d12b + '_' + _0x33b371 + '.' + _0x1f92a2 : _0xa59bc7['id'] + '_' + _0x27d12b + '_' + _0x33b371 + '.' + _0x1f92a2;
            return yield _0x168289[_0x195985(0x197)](downloadFile, _0x422a96[_0x195985(0x17b)], _0x27d12b, _0x1c33fc), _0x1c33fc;
        } catch (_0x114dad) {
            loggerZPRO_1[_0x195985(0x180)][_0x195985(0x174)](_0x114dad);
            throw new AppErrorZPRO_1[(_0x195985(0x187))](_0x195985(0x1b4) + _0x195985(0x15a) + _0x195985(0x18f) + _0x114dad);
        }
    });
exports[_0x101478(0x187)] = GetMediaWaba360;