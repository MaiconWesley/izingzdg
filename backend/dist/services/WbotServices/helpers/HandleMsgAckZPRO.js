'use strict';
const _0x4b9a71 = _0x1b96;
(function (_0x4887b1, _0x56029c) {
    const _0x576946 = _0x1b96, _0xfba744 = _0x4887b1();
    while (!![]) {
        try {
            const _0x2e6dc2 = parseInt(_0x576946(0x1b9)) / (0x23ca + -0x2c * -0xca + -0x4681) * (-parseInt(_0x576946(0x1e6)) / (0x19f6 + -0x17b * 0x4 + -0x4 * 0x502)) + -parseInt(_0x576946(0x1ce)) / (-0x21aa + 0xfc + 0x20b1) + parseInt(_0x576946(0x1b1)) / (0x1 * -0x42 + -0xe49 + 0xe8f * 0x1) + parseInt(_0x576946(0x1c0)) / (-0x241b + 0x233 * 0xd + -0x789 * -0x1) + -parseInt(_0x576946(0x1dc)) / (0x2322 + 0x1 * -0x1859 + -0xac3 * 0x1) * (parseInt(_0x576946(0x1d9)) / (-0x5 * -0x601 + -0x222a + 0x3 * 0x164)) + -parseInt(_0x576946(0x1d2)) / (0x32 * 0x49 + -0x15 * -0x52 + -0x14f4) * (parseInt(_0x576946(0x1b2)) / (-0x1f * -0xe5 + -0x11b * -0x1e + 0xa4 * -0x5f)) + -parseInt(_0x576946(0x194)) / (0x2dd * 0x2 + 0x37f + -0x92f * 0x1) * (-parseInt(_0x576946(0x1c3)) / (0xded * -0x1 + 0x11f4 + 0x3fc * -0x1));
            if (_0x2e6dc2 === _0x56029c)
                break;
            else
                _0xfba744['push'](_0xfba744['shift']());
        } catch (_0x349aa0) {
            _0xfba744['push'](_0xfba744['shift']());
        }
    }
}(_0x52e9, 0xbd9c + 0x2592 * 0x1 + 0x1 * 0x1406b));
function _0x52e9() {
    const _0x13d09d = [
        'rZPRO',
        'hookMessag',
        'GVLxY',
        'dHmvb',
        'mdXnu',
        'Status',
        'messageId',
        'error',
        'IIcEc',
        'next',
        'eStatus',
        'wvrqB',
        'tenantId',
        'WebHooksAP',
        '425116lyUqQR',
        '81TtAxRd',
        'value',
        'urlMessage',
        'OVwil',
        'then',
        '../../../h',
        'mNMXT',
        '35709nugwQM',
        'externalKe',
        'aignContac',
        'payload',
        'TnKTP',
        'ktqPV',
        '__esModule',
        '1112625UUSHHf',
        'etZPRO',
        'default',
        '22YXrkdR',
        'elXdv',
        '../../../l',
        'PRO',
        'PylnB',
        'odels/Camp',
        'AQtfI',
        'lNiGZ',
        'apiConfig',
        'contact',
        'type',
        '572964QsseSC',
        'YtoRc',
        'apply',
        'ticket',
        '188024FdwPBq',
        'ageZPRO',
        'kcCGQ',
        'logger',
        '../../../u',
        '../../../m',
        'tils/logge',
        '36365QMYjXY',
        'odels/Mess',
        'throw',
        '162xNFOxf',
        'tsZPRO',
        'quotedMsg',
        'ibs/QueueZ',
        '__awaiter',
        'authToken',
        'odels/Tick',
        'amnWD',
        'YlCwX',
        'findOne',
        '2RmrnGG',
        'fault',
        'lUJna',
        'chat:ack',
        'where',
        'done',
        'plxFr',
        'rCTKi',
        '1949350VuAufI',
        'MDbxl',
        'update',
        'fuzOv',
        'qiiLQ',
        'essageZPRO',
        'add',
        'defineProp',
        'elpers/soc',
        'erty',
        'ketEmitZPR',
        'url',
        'odels/ApiM',
        'ack',
        '__importDe'
    ];
    _0x52e9 = function () {
        return _0x13d09d;
    };
    return _0x52e9();
}
function _0x1b96(_0x465d45, _0x1db232) {
    const _0x17cf1d = _0x52e9();
    return _0x1b96 = function (_0x60e2d6, _0x16c888) {
        _0x60e2d6 = _0x60e2d6 - (-0x1 * -0x6f7 + -0x78 * -0x1e + -0x137a);
        let _0x3142a5 = _0x17cf1d[_0x60e2d6];
        return _0x3142a5;
    }, _0x1b96(_0x465d45, _0x1db232);
}
var __awaiter = this && this[_0x4b9a71(0x1e0)] || function (_0x2c11ea, _0x3c8b39, _0x537967, _0x5b027d) {
        const _0x3c951e = _0x4b9a71, _0x381884 = {
                'mdXnu': function (_0x190cdf, _0x48f7cf) {
                    return _0x190cdf(_0x48f7cf);
                },
                'MDbxl': function (_0x2a59ef, _0x39342f) {
                    return _0x2a59ef instanceof _0x39342f;
                },
                'AQtfI': function (_0x5bdbeb, _0x494a3e) {
                    return _0x5bdbeb(_0x494a3e);
                },
                'fuzOv': _0x3c951e(0x1db),
                'rCTKi': function (_0x38f8c4, _0x4f2f57) {
                    return _0x38f8c4(_0x4f2f57);
                }
            };
        function _0x344edd(_0x133ee0) {
            const _0x1ccbba = _0x3c951e, _0x24e9d8 = {
                    'lUJna': function (_0x13dc9c, _0x101088) {
                        const _0xb64cb9 = _0x1b96;
                        return _0x381884[_0xb64cb9(0x1a7)](_0x13dc9c, _0x101088);
                    }
                };
            return _0x381884[_0x1ccbba(0x195)](_0x133ee0, _0x537967) ? _0x133ee0 : new _0x537967(function (_0x101a9f) {
                const _0x8690a5 = _0x1ccbba;
                _0x24e9d8[_0x8690a5(0x18e)](_0x101a9f, _0x133ee0);
            });
        }
        return new (_0x537967 || (_0x537967 = Promise))(function (_0x5cdf6b, _0x3df010) {
            const _0x23f2fc = _0x3c951e, _0x443694 = {
                    'dHmvb': function (_0x5877d6, _0x2857e5) {
                        const _0x456033 = _0x1b96;
                        return _0x381884[_0x456033(0x1c9)](_0x5877d6, _0x2857e5);
                    },
                    'amnWD': function (_0x53ef72, _0x12a808) {
                        const _0x4955b8 = _0x1b96;
                        return _0x381884[_0x4955b8(0x1c9)](_0x53ef72, _0x12a808);
                    },
                    'qiiLQ': _0x381884[_0x23f2fc(0x197)],
                    'YtoRc': function (_0x14c14b, _0x1ac588) {
                        const _0x490ffe = _0x23f2fc;
                        return _0x381884[_0x490ffe(0x1c9)](_0x14c14b, _0x1ac588);
                    }
                };
            function _0x2ae08f(_0x3416ab) {
                const _0x111018 = _0x23f2fc;
                try {
                    _0x443694[_0x111018(0x1a6)](_0x33003a, _0x5b027d[_0x111018(0x1ac)](_0x3416ab));
                } catch (_0x248e12) {
                    _0x443694[_0x111018(0x1a6)](_0x3df010, _0x248e12);
                }
            }
            function _0x3de43f(_0x5b9fab) {
                const _0x2a0fb5 = _0x23f2fc;
                try {
                    _0x443694[_0x2a0fb5(0x1e3)](_0x33003a, _0x5b027d[_0x443694[_0x2a0fb5(0x198)]](_0x5b9fab));
                } catch (_0xe96d83) {
                    _0x443694[_0x2a0fb5(0x1cf)](_0x3df010, _0xe96d83);
                }
            }
            function _0x33003a(_0x3b13e4) {
                const _0xe64ed9 = _0x23f2fc;
                _0x3b13e4[_0xe64ed9(0x191)] ? _0x443694[_0xe64ed9(0x1a6)](_0x5cdf6b, _0x3b13e4[_0xe64ed9(0x1b3)]) : _0x443694[_0xe64ed9(0x1a6)](_0x344edd, _0x3b13e4[_0xe64ed9(0x1b3)])[_0xe64ed9(0x1b6)](_0x2ae08f, _0x3de43f);
            }
            _0x381884[_0x23f2fc(0x193)](_0x33003a, (_0x5b027d = _0x5b027d[_0x23f2fc(0x1d0)](_0x2c11ea, _0x3c8b39 || []))[_0x23f2fc(0x1ac)]());
        });
    }, __importDefault = this && this[_0x4b9a71(0x1a2) + _0x4b9a71(0x18d)] || function (_0x24d998) {
        const _0x104bdd = _0x4b9a71;
        return _0x24d998 && _0x24d998[_0x104bdd(0x1bf)] ? _0x24d998 : { 'default': _0x24d998 };
    };
const _0x577a36 = {};
_0x577a36[_0x4b9a71(0x1b3)] = !![], Object[_0x4b9a71(0x19b) + _0x4b9a71(0x19d)](exports, _0x4b9a71(0x1bf), _0x577a36);
const MessageZPRO_1 = __importDefault(require(_0x4b9a71(0x1d7) + _0x4b9a71(0x1da) + _0x4b9a71(0x1d3))), TicketZPRO_1 = __importDefault(require(_0x4b9a71(0x1d7) + _0x4b9a71(0x1e2) + _0x4b9a71(0x1c1))), loggerZPRO_1 = require(_0x4b9a71(0x1d6) + _0x4b9a71(0x1d8) + _0x4b9a71(0x1a3)), CampaignContactsZPRO_1 = __importDefault(require(_0x4b9a71(0x1d7) + _0x4b9a71(0x1c8) + _0x4b9a71(0x1bb) + _0x4b9a71(0x1dd))), ApiMessageZPRO_1 = __importDefault(require(_0x4b9a71(0x1d7) + _0x4b9a71(0x1a0) + _0x4b9a71(0x199))), socketEmitZPRO_1 = __importDefault(require(_0x4b9a71(0x1b7) + _0x4b9a71(0x19c) + _0x4b9a71(0x19e) + 'O')), QueueZPRO_1 = __importDefault(require(_0x4b9a71(0x1c5) + _0x4b9a71(0x1df) + _0x4b9a71(0x1c6))), HandleMsgAck = (_0x361347, _0x45ebe5) => __awaiter(void (0x1710 + -0xa1a * -0x1 + -0x212a), void (0x1fdb * 0x1 + 0x19a0 + -0x2d * 0x147), void (-0x1b24 + 0x1e28 + -0x304), function* () {
        const _0x3d6dc8 = _0x4b9a71, _0x2e4be0 = {};
        _0x2e4be0[_0x3d6dc8(0x1ae)] = function (_0x4e8b23, _0x39241e) {
            return _0x4e8b23 === _0x39241e;
        }, _0x2e4be0[_0x3d6dc8(0x1bd)] = _0x3d6dc8(0x1cc), _0x2e4be0[_0x3d6dc8(0x1d4)] = _0x3d6dc8(0x1d1), _0x2e4be0[_0x3d6dc8(0x1ab)] = _0x3d6dc8(0x1af), _0x2e4be0[_0x3d6dc8(0x1b5)] = _0x3d6dc8(0x1cb), _0x2e4be0[_0x3d6dc8(0x1b8)] = _0x3d6dc8(0x1de), _0x2e4be0[_0x3d6dc8(0x1c7)] = _0x3d6dc8(0x18f), _0x2e4be0[_0x3d6dc8(0x1c4)] = function (_0x20611b, _0x5bcc46) {
            return _0x20611b === _0x5bcc46;
        }, _0x2e4be0[_0x3d6dc8(0x1ca)] = function (_0x51a2c5, _0x4c7ab9) {
            return _0x51a2c5 === _0x4c7ab9;
        }, _0x2e4be0[_0x3d6dc8(0x1a5)] = function (_0x4eda7c, _0xca374d) {
            return _0x4eda7c === _0xca374d;
        }, _0x2e4be0[_0x3d6dc8(0x1be)] = function (_0x3b29a2, _0x353791) {
            return _0x3b29a2 === _0x353791;
        }, _0x2e4be0[_0x3d6dc8(0x192)] = _0x3d6dc8(0x1a4) + _0x3d6dc8(0x1ad), _0x2e4be0[_0x3d6dc8(0x1e4)] = _0x3d6dc8(0x1b0) + 'I';
        const _0x588c03 = _0x2e4be0;
        yield new Promise(_0xf98ea6 => setTimeout(_0xf98ea6, 0x4c8 + 0x1 * -0x1763 + -0x148f * -0x1));
        if (_0x588c03[_0x3d6dc8(0x1ae)](_0x45ebe5, null))
            return;
        try {
            const _0x557c71 = {};
            _0x557c71[_0x3d6dc8(0x1a9)] = _0x361347['id']['id'];
            const _0x13b9d0 = yield MessageZPRO_1[_0x3d6dc8(0x1c2)][_0x3d6dc8(0x1e5)]({
                'where': _0x557c71,
                'include': [
                    _0x588c03[_0x3d6dc8(0x1bd)],
                    {
                        'model': TicketZPRO_1[_0x3d6dc8(0x1c2)],
                        'as': _0x588c03[_0x3d6dc8(0x1d4)],
                        'attributes': [
                            'id',
                            _0x588c03[_0x3d6dc8(0x1ab)],
                            _0x588c03[_0x3d6dc8(0x1b5)]
                        ]
                    },
                    {
                        'model': MessageZPRO_1[_0x3d6dc8(0x1c2)],
                        'as': _0x588c03[_0x3d6dc8(0x1b8)],
                        'include': [_0x588c03[_0x3d6dc8(0x1bd)]]
                    }
                ]
            });
            if (_0x13b9d0) {
                const _0x208f55 = {};
                _0x208f55[_0x3d6dc8(0x1a1)] = _0x45ebe5, yield _0x13b9d0[_0x3d6dc8(0x196)](_0x208f55);
                const {ticket: _0x34ddba} = _0x13b9d0, _0x4b6ab = {};
                _0x4b6ab[_0x3d6dc8(0x1af)] = _0x34ddba[_0x3d6dc8(0x1af)], _0x4b6ab[_0x3d6dc8(0x1cd)] = _0x588c03[_0x3d6dc8(0x1c7)], _0x4b6ab[_0x3d6dc8(0x1bc)] = _0x13b9d0, (-0x960 + 0xf27 + 0x3 * -0x1ed, socketEmitZPRO_1[_0x3d6dc8(0x1c2)])(_0x4b6ab);
                const _0x5c396b = _0x34ddba[_0x3d6dc8(0x1cb)] || {};
                if ((_0x588c03[_0x3d6dc8(0x1c4)](_0x5c396b, null) || _0x588c03[_0x3d6dc8(0x1ae)](_0x5c396b, void (0x47 * 0x81 + 0x1 * -0x15c3 + -0xe04)) ? void (0x1 * 0x1b41 + -0x2 * -0x140 + -0x3 * 0x9eb) : _0x5c396b[_0x3d6dc8(0x1ba) + 'y']) && (_0x588c03[_0x3d6dc8(0x1c4)](_0x5c396b, null) || _0x588c03[_0x3d6dc8(0x1ae)](_0x5c396b, void (0x2 * 0xad5 + 0x142b + -0x29d5 * 0x1)) ? void (0x202 + 0x21ac + -0x11d7 * 0x2) : _0x5c396b[_0x3d6dc8(0x1b4) + _0x3d6dc8(0x1a8)])) {
                    const _0x25b1fa = {
                            'ack': _0x45ebe5,
                            'messageId': _0x361347['id']['id'],
                            'ticketId': _0x34ddba['id'],
                            'externalKey': _0x588c03[_0x3d6dc8(0x1ca)](_0x5c396b, null) || _0x588c03[_0x3d6dc8(0x1ca)](_0x5c396b, void (0x1f7b * 0x1 + 0x1ed8 + 0x5 * -0xc77)) ? void (-0x1 * -0x1583 + -0x1 * 0x1ead + 0x92a) : _0x5c396b[_0x3d6dc8(0x1ba) + 'y'],
                            'authToken': _0x588c03[_0x3d6dc8(0x1a5)](_0x5c396b, null) || _0x588c03[_0x3d6dc8(0x1be)](_0x5c396b, void (-0x10d7 + -0x1058 + 0x212f)) ? void (-0x3 * -0xb48 + 0x163 + -0x233b) : _0x5c396b[_0x3d6dc8(0x1e1)],
                            'type': _0x588c03[_0x3d6dc8(0x192)]
                        }, _0x453f24 = {};
                    _0x453f24[_0x3d6dc8(0x19f)] = _0x5c396b[_0x3d6dc8(0x1b4) + _0x3d6dc8(0x1a8)], _0x453f24[_0x3d6dc8(0x1cd)] = _0x25b1fa[_0x3d6dc8(0x1cd)], _0x453f24[_0x3d6dc8(0x1bc)] = _0x25b1fa, QueueZPRO_1[_0x3d6dc8(0x1c2)][_0x3d6dc8(0x19a)](_0x588c03[_0x3d6dc8(0x1e4)], _0x453f24);
                }
            }
            const _0x51ac7a = {};
            _0x51ac7a[_0x3d6dc8(0x1a9)] = _0x361347['id']['id'];
            const _0x457531 = {};
            _0x457531[_0x3d6dc8(0x190)] = _0x51ac7a;
            const _0x5a1137 = yield ApiMessageZPRO_1[_0x3d6dc8(0x1c2)][_0x3d6dc8(0x1e5)](_0x457531);
            if (_0x5a1137) {
                const _0x3f5c38 = {};
                _0x3f5c38[_0x3d6dc8(0x1a1)] = _0x45ebe5, yield _0x5a1137[_0x3d6dc8(0x196)](_0x3f5c38);
            }
            const _0x45b5fe = {};
            _0x45b5fe[_0x3d6dc8(0x1a9)] = _0x361347['id']['id'];
            const _0x385ca0 = {};
            _0x385ca0[_0x3d6dc8(0x190)] = _0x45b5fe;
            const _0x2791eb = yield CampaignContactsZPRO_1[_0x3d6dc8(0x1c2)][_0x3d6dc8(0x1e5)](_0x385ca0);
            if (_0x2791eb) {
                const _0x5771d5 = {};
                _0x5771d5[_0x3d6dc8(0x1a1)] = _0x45ebe5, yield _0x2791eb[_0x3d6dc8(0x196)](_0x5771d5);
            }
        } catch (_0x2c96b5) {
            loggerZPRO_1[_0x3d6dc8(0x1d5)][_0x3d6dc8(0x1aa)](_0x2c96b5);
        }
    });
exports[_0x4b9a71(0x1c2)] = HandleMsgAck;