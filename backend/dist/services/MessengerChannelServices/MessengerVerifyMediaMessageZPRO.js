'use strict';
const _0x32f7ca = _0x2e8f;
(function (_0x5d6763, _0x2be780) {
    const _0x186e88 = _0x2e8f, _0x54df52 = _0x5d6763();
    while (!![]) {
        try {
            const _0x13a067 = -parseInt(_0x186e88(0x17c)) / (-0x429 + -0x166d + -0x1a97 * -0x1) + -parseInt(_0x186e88(0x169)) / (-0x1 * 0x1c3 + -0x15b4 + 0x1779) + parseInt(_0x186e88(0x184)) / (0x1d * 0x85 + -0x1622 * -0x1 + -0x2530) * (parseInt(_0x186e88(0x1b2)) / (0x243b + -0x180d + 0xad * -0x12)) + -parseInt(_0x186e88(0x1c0)) / (-0x2524 * 0x1 + 0x25 * 0x8b + 0x1112) + parseInt(_0x186e88(0x17e)) / (0x63 * 0x2 + -0xd86 + 0xcc6 * 0x1) * (-parseInt(_0x186e88(0x17d)) / (0x2002 * 0x1 + -0x1ca3 + -0x1ac * 0x2)) + parseInt(_0x186e88(0x192)) / (0x1dc + 0x2399 * 0x1 + -0x256d) + -parseInt(_0x186e88(0x1cd)) / (0x1a1d * 0x1 + 0x4 * 0x92f + -0x3ed0) * (-parseInt(_0x186e88(0x187)) / (-0x1584 + -0x3 * 0x8a9 + 0x2f89));
            if (_0x13a067 === _0x2be780)
                break;
            else
                _0x54df52['push'](_0x54df52['shift']());
        } catch (_0x46a587) {
            _0x54df52['push'](_0x54df52['shift']());
        }
    }
}(_0x2e13, -0x11f1f + -0x4445b + -0x7adad * -0x1));
var __awaiter = this && this[_0x32f7ca(0x1c4)] || function (_0x5e1cee, _0x3249fa, _0x2b105b, _0x5be8f2) {
        const _0x4e2562 = _0x32f7ca, _0x5a0d39 = {
                'dCjqn': function (_0x4d7b5d, _0x7edbe8) {
                    return _0x4d7b5d(_0x7edbe8);
                },
                'KWgqo': function (_0x34ae11, _0x14f1da) {
                    return _0x34ae11 instanceof _0x14f1da;
                },
                'Ocjjo': _0x4e2562(0x1ca),
                'ddGhB': function (_0x5318ae, _0x1c499a) {
                    return _0x5318ae(_0x1c499a);
                },
                'QEfBX': function (_0x213119, _0x39e209) {
                    return _0x213119(_0x39e209);
                },
                'eAvfB': function (_0x6bf8ee, _0x4ad4da) {
                    return _0x6bf8ee(_0x4ad4da);
                }
            };
        function _0x1ff580(_0x256071) {
            const _0x1a14a9 = _0x4e2562, _0x3c77c0 = {
                    'gQnhb': function (_0x4a56bb, _0x4ac299) {
                        const _0x1a589c = _0x2e8f;
                        return _0x5a0d39[_0x1a589c(0x16f)](_0x4a56bb, _0x4ac299);
                    }
                };
            return _0x5a0d39[_0x1a14a9(0x1b1)](_0x256071, _0x2b105b) ? _0x256071 : new _0x2b105b(function (_0x3c1112) {
                const _0x5279fa = _0x1a14a9;
                _0x3c77c0[_0x5279fa(0x172)](_0x3c1112, _0x256071);
            });
        }
        return new (_0x2b105b || (_0x2b105b = Promise))(function (_0x3acce3, _0x448753) {
            const _0x8d32e2 = _0x4e2562, _0x2d354a = {
                    'YNZJU': function (_0x153751, _0x14295e) {
                        const _0x3de296 = _0x2e8f;
                        return _0x5a0d39[_0x3de296(0x182)](_0x153751, _0x14295e);
                    },
                    'DIpmf': function (_0x2ddca9, _0x2cbe88) {
                        const _0x20fbb0 = _0x2e8f;
                        return _0x5a0d39[_0x20fbb0(0x1d4)](_0x2ddca9, _0x2cbe88);
                    }
                };
            function _0x33f9ff(_0x53c4cd) {
                const _0x895dd8 = _0x2e8f;
                try {
                    _0x5a0d39[_0x895dd8(0x16f)](_0x2f7776, _0x5be8f2[_0x895dd8(0x1c9)](_0x53c4cd));
                } catch (_0x39e75b) {
                    _0x5a0d39[_0x895dd8(0x16f)](_0x448753, _0x39e75b);
                }
            }
            function _0x188711(_0xe0307b) {
                const _0x1880b1 = _0x2e8f;
                try {
                    _0x5a0d39[_0x1880b1(0x16f)](_0x2f7776, _0x5be8f2[_0x5a0d39[_0x1880b1(0x189)]](_0xe0307b));
                } catch (_0x3288e3) {
                    _0x5a0d39[_0x1880b1(0x16f)](_0x448753, _0x3288e3);
                }
            }
            function _0x2f7776(_0x2b7b6d) {
                const _0x10b91c = _0x2e8f;
                _0x2b7b6d[_0x10b91c(0x18e)] ? _0x2d354a[_0x10b91c(0x1be)](_0x3acce3, _0x2b7b6d[_0x10b91c(0x1a3)]) : _0x2d354a[_0x10b91c(0x1d0)](_0x1ff580, _0x2b7b6d[_0x10b91c(0x1a3)])[_0x10b91c(0x17b)](_0x33f9ff, _0x188711);
            }
            _0x5a0d39[_0x8d32e2(0x196)](_0x2f7776, (_0x5be8f2 = _0x5be8f2[_0x8d32e2(0x173)](_0x5e1cee, _0x3249fa || []))[_0x8d32e2(0x1c9)]());
        });
    }, __importDefault = this && this[_0x32f7ca(0x1b7) + _0x32f7ca(0x1cc)] || function (_0x5ec9f2) {
        const _0x2838b5 = _0x32f7ca;
        return _0x5ec9f2 && _0x5ec9f2[_0x2838b5(0x19e)] ? _0x5ec9f2 : { 'default': _0x5ec9f2 };
    };
const _0x4cc694 = {};
_0x4cc694[_0x32f7ca(0x1a3)] = !![], Object[_0x32f7ca(0x1bc) + _0x32f7ca(0x1ae)](exports, _0x32f7ca(0x19e), _0x4cc694);
const path_1 = require(_0x32f7ca(0x177)), axios_1 = __importDefault(require(_0x32f7ca(0x1c8))), fs_1 = require('fs'), content_disposition_1 = __importDefault(require(_0x32f7ca(0x1aa) + _0x32f7ca(0x19b))), CreateMessageServiceZPRO_1 = __importDefault(require(_0x32f7ca(0x1cb) + _0x32f7ca(0x175) + _0x32f7ca(0x17a) + _0x32f7ca(0x19c) + _0x32f7ca(0x166))), getQuotedForMessageIdZPRO_1 = __importDefault(require(_0x32f7ca(0x19d) + _0x32f7ca(0x186) + _0x32f7ca(0x1c7) + _0x32f7ca(0x178))), loggerZPRO_1 = require(_0x32f7ca(0x194) + _0x32f7ca(0x176) + 'RO'), downloadFile = (_0x771c71, _0x491eae) => __awaiter(void (-0x8b * 0x3a + 0x8 * 0x35b + 0x55 * 0xe), void (-0x6d * -0xa + -0x1b5 + 0x1 * -0x28d), void (0x79c * -0x1 + -0x11 * -0x16a + -0x57a * 0x3), function* () {
        const _0x3c1e49 = _0x32f7ca, _0x4106ac = {
                'hbjcW': function (_0x22040f, _0x10abf9) {
                    return _0x22040f(_0x10abf9);
                },
                'utkPs': _0x3c1e49(0x18c) + _0x3c1e49(0x181) + _0x3c1e49(0x1bb) + _0x3c1e49(0x1a5),
                'fdqOF': _0x3c1e49(0x1bf),
                'unibT': _0x3c1e49(0x168),
                'loQGR': _0x3c1e49(0x1bd),
                'nXrHy': _0x3c1e49(0x1a8),
                'urmWQ': _0x3c1e49(0x1aa) + _0x3c1e49(0x19b),
                'uHicd': function (_0x2377e6, _0x4177df) {
                    return _0x2377e6 === _0x4177df;
                },
                'JsgEU': function (_0xd115ab, _0x23fd10) {
                    return _0xd115ab === _0x23fd10;
                },
                'XEUSU': _0x3c1e49(0x17f) + 'pe',
                'LGKid': _0x3c1e49(0x1a7)
            };
        var _0x5b92e2;
        const _0x969610 = {};
        _0x969610[_0x3c1e49(0x1a1)] = _0x771c71, _0x969610[_0x3c1e49(0x1c5)] = _0x4106ac[_0x3c1e49(0x198)], _0x969610[_0x3c1e49(0x1ad) + 'pe'] = _0x4106ac[_0x3c1e49(0x167)];
        const _0x31e76a = yield (0x2258 + -0x86 * -0x3d + -0x4246, axios_1[_0x3c1e49(0x180)])(_0x969610), _0x2e19d7 = {};
        _0x2e19d7[_0x3c1e49(0x16e)] = {};
        const _0x40d0dd = _0x31e76a[_0x3c1e49(0x1a9)][_0x4106ac[_0x3c1e49(0x1d2)]] ? content_disposition_1[_0x3c1e49(0x180)][_0x3c1e49(0x19a)](_0x31e76a[_0x3c1e49(0x1a9)][_0x4106ac[_0x3c1e49(0x1d2)]] || '') : _0x2e19d7;
        let _0x5048fb = '';
        const _0x3b11ed = _0x4106ac[_0x3c1e49(0x1ce)](_0x5b92e2 = _0x4106ac[_0x3c1e49(0x1ce)](_0x40d0dd, null) || _0x4106ac[_0x3c1e49(0x1ce)](_0x40d0dd, void (0x1223 + -0x3 * -0x839 + 0x2ace * -0x1)) ? void (-0x1 * 0x1493 + -0x1094 + 0x2527) : _0x40d0dd[_0x3c1e49(0x16e)], null) || _0x4106ac[_0x3c1e49(0x174)](_0x5b92e2, void (-0x169b + -0x9da + -0x7 * -0x4a3)) ? void (0x25 * -0x65 + -0x1ff * 0xe + 0x2a8b) : _0x5b92e2[_0x3c1e49(0x1d3)];
        if (_0x3b11ed) {
            const _0x1ad4c7 = _0x40d0dd[_0x3c1e49(0x16e)][_0x3c1e49(0x1d3)];
            _0x5048fb = new Date()[_0x3c1e49(0x185)]() + '-' + _0x1ad4c7;
        } else {
            const _0xec9e1f = _0x31e76a[_0x3c1e49(0x1a9)][_0x4106ac[_0x3c1e49(0x1c1)]], _0x2a7c9f = _0xec9e1f[_0x3c1e49(0x1b3)]('/')[-0x466 * -0x1 + -0x229f + 0x1e3a];
            _0x5048fb = _0x491eae + '-' + new Date()[_0x3c1e49(0x185)]() + '.' + _0x2a7c9f;
        }
        const _0x4bce47 = (0x3 * -0x91 + -0x15d1 + 0x25a * 0xa, path_1[_0x3c1e49(0x1a0)])(__dirname, '..', '..', '..', _0x4106ac[_0x3c1e49(0x1b0)], _0x5048fb);
        return yield new Promise((_0x28b99d, _0x3d6ab9) => {
            const _0x17b3a6 = _0x3c1e49, _0x24bfdf = {
                    'NFoxf': function (_0x297cd8, _0xb965fa) {
                        const _0x5e1e62 = _0x2e8f;
                        return _0x4106ac[_0x5e1e62(0x1b8)](_0x297cd8, _0xb965fa);
                    },
                    'XWHTX': _0x4106ac[_0x17b3a6(0x1c3)],
                    'mYALG': function (_0x13cc84, _0xf281d) {
                        const _0x1c0f7b = _0x17b3a6;
                        return _0x4106ac[_0x1c0f7b(0x1b8)](_0x13cc84, _0xf281d);
                    }
                };
            _0x31e76a[_0x17b3a6(0x16a)][_0x17b3a6(0x171)]((0x209 * 0x7 + 0x41 * -0x8b + -0x382 * -0x6, fs_1[_0x17b3a6(0x16b) + _0x17b3a6(0x1af)])(_0x4bce47))['on'](_0x4106ac[_0x17b3a6(0x1ab)], () => __awaiter(void (0x5c0 + 0x109 * 0x19 + -0x1fa1), void (0x18d * 0x3 + 0x5b + -0x502 * 0x1), void (-0xb * 0x12e + 0x2113 + -0x5 * 0x405), function* () {
                const _0x29af1f = _0x17b3a6;
                return _0x24bfdf[_0x29af1f(0x1b9)](_0x28b99d, _0x5048fb);
            }))['on'](_0x4106ac[_0x17b3a6(0x1b5)], _0x6a6b6e => {
                const _0x1d2f3a = _0x17b3a6;
                loggerZPRO_1[_0x1d2f3a(0x19f)][_0x1d2f3a(0x193)](_0x24bfdf[_0x1d2f3a(0x1a6)], _0x6a6b6e), _0x24bfdf[_0x1d2f3a(0x170)](_0x3d6ab9, new Error(_0x6a6b6e));
            });
        }), _0x5048fb;
    }), MessengerVerifyMediaMessage = (_0x751e4d, _0x23b420, _0x883a88, _0x5a5e67) => __awaiter(void (0x562 * 0x6 + 0x2183 + -0x41cf), void (0x1 * -0x132 + -0x10d2 + -0x902 * -0x2), void (-0xb1a + -0x17b5 + -0x13 * -0x1d5), function* () {
        const _0x1c0858 = _0x32f7ca, _0x25e294 = {
                'FHHHs': function (_0x4e8ec7, _0x3878c3, _0x4dc7fb) {
                    return _0x4e8ec7(_0x3878c3, _0x4dc7fb);
                },
                'dAWOy': function (_0x4e6066, _0x426ba2) {
                    return _0x4e6066 === _0x426ba2;
                },
                'AfqBP': function (_0x4f8953, _0x3e20b1) {
                    return _0x4f8953 === _0x3e20b1;
                },
                'IjXUI': function (_0xe6a368, _0x4686c8) {
                    return _0xe6a368 === _0x4686c8;
                },
                'kgoKO': function (_0x46b908, _0x406201) {
                    return _0x46b908 === _0x406201;
                },
                'bcCai': function (_0x169c2e, _0x1565ff) {
                    return _0x169c2e > _0x1565ff;
                },
                'YsYEN': function (_0x3d4990, _0x528fde) {
                    return _0x3d4990 === _0x528fde;
                },
                'iHHjs': _0x1c0858(0x183),
                'syjcQ': function (_0x4fa52d, _0x507242) {
                    return _0x4fa52d === _0x507242;
                }
            };
        let _0x2423ad;
        yield Promise[_0x1c0858(0x1a4)](_0x23b420[_0x1c0858(0x18f)][_0x1c0858(0x1d5) + 's'][_0x1c0858(0x1c6)]((_0x2eccf4, _0x5b4f99) => __awaiter(void (0xa1 * -0x2c + 0x1 * 0xac9 + 0x10e3), void (-0x19c0 + -0x68 * 0x18 + -0x8e * -0x40), void (-0x1990 + 0x1 * -0x1343 + 0x2cd3), function* () {
            const _0x40204e = _0x1c0858;
            var _0x57e5ca, _0x22485c, _0x286c29, _0x4dff88;
            const _0x451ba2 = _0x883a88['id'] + '_' + _0x23b420[_0x40204e(0x1a2)];
            _0x2423ad = yield _0x25e294[_0x40204e(0x199)](downloadFile, _0x2eccf4[_0x40204e(0x1c2)][_0x40204e(0x1a1)], _0x451ba2);
            let _0xb316d;
            if (_0x25e294[_0x40204e(0x1b4)](_0x22485c = _0x25e294[_0x40204e(0x18d)](_0x57e5ca = _0x25e294[_0x40204e(0x188)](_0x23b420, null) || _0x25e294[_0x40204e(0x188)](_0x23b420, void (-0x76e * -0x5 + -0x1e47 + -0x6df)) ? void (-0x3 * 0x769 + 0xd5c + -0x8df * -0x1) : _0x23b420[_0x40204e(0x18f)], null) || _0x25e294[_0x40204e(0x18d)](_0x57e5ca, void (0x1789 * -0x1 + 0x24de + -0xd55)) ? void (-0x54 * -0x1e + 0x1 * -0x85d + 0x17b * -0x1) : _0x57e5ca[_0x40204e(0x195)], null) || _0x25e294[_0x40204e(0x1cf)](_0x22485c, void (0xec5 + -0xec * 0x2 + 0x1 * -0xced)) ? void (-0xeda + 0x84e + 0x68c) : _0x22485c[_0x40204e(0x1d1)]) {
                const _0x55af5d = yield (0xb9f + 0x1a3d + 0x12ee * -0x2, getQuotedForMessageIdZPRO_1[_0x40204e(0x180)])(_0x23b420[_0x40204e(0x18f)][_0x40204e(0x195)][_0x40204e(0x1d1)], _0x883a88[_0x40204e(0x18b)]);
                _0xb316d = (_0x25e294[_0x40204e(0x188)](_0x55af5d, null) || _0x25e294[_0x40204e(0x188)](_0x55af5d, void (-0x1 * -0xc74 + -0x8f9 + 0x21 * -0x1b)) ? void (0x1507 + 0x1b0d * -0x1 + 0x606) : _0x55af5d['id']) || undefined;
            }
            const _0x219005 = {
                'messageId': _0x25e294[_0x40204e(0x1b6)](_0x5b4f99, -0x2 * 0x4c8 + -0x25e3 * 0x1 + -0x3 * -0xfd1) ? _0x23b420[_0x40204e(0x1a2)] + '__' + _0x5b4f99 : _0x23b420[_0x40204e(0x1a2)] || '',
                'ticketId': _0x883a88['id'],
                'contactId': _0x5a5e67['id'],
                'body': (_0x25e294[_0x40204e(0x18d)](_0x286c29 = _0x23b420[_0x40204e(0x18f)], null) || _0x25e294[_0x40204e(0x1ac)](_0x286c29, void (0x21a2 + -0x48d + 0x5 * -0x5d1)) ? void (-0x1f * -0x4 + -0x1883 + 0x1 * 0x1807) : _0x286c29[_0x40204e(0x18a)]) || '',
                'fromMe': _0x23b420[_0x40204e(0x16d)],
                'read': ![],
                'mediaUrl': _0x2423ad,
                'mediaType': _0x23b420[_0x40204e(0x16c)],
                'quotedMsgId': _0xb316d,
                'timestamp': +_0x23b420[_0x40204e(0x179)],
                'status': _0x25e294[_0x40204e(0x1ba)]
            };
            yield _0x883a88[_0x40204e(0x197)]({
                'lastMessage': (_0x25e294[_0x40204e(0x1cf)](_0x4dff88 = _0x23b420[_0x40204e(0x18f)], null) || _0x25e294[_0x40204e(0x190)](_0x4dff88, void (0x15 * -0x1c9 + 0x2 * -0x16a + -0x2851 * -0x1)) ? void (0xb * -0x37e + 0x1636 + -0x81a * -0x2) : _0x4dff88[_0x40204e(0x18a)]) || _0x2423ad || '',
                'lastMessageAt': new Date()[_0x40204e(0x185)](),
                'answered': ![]
            });
            const _0x2ae22a = {};
            _0x2ae22a[_0x40204e(0x191) + 'a'] = _0x219005, _0x2ae22a[_0x40204e(0x18b)] = _0x883a88[_0x40204e(0x18b)], yield (0x3d1 * -0x7 + 0x2196 + -0x6df, CreateMessageServiceZPRO_1[_0x40204e(0x180)])(_0x2ae22a);
        })));
    });
function _0x2e13() {
    const _0x46dd06 = [
        'dCjqn',
        'mYALG',
        'pipe',
        'gQnhb',
        'apply',
        'JsgEU',
        'Services/C',
        's/loggerZP',
        'path',
        'ageIdZPRO',
        'timestamp',
        'reateMessa',
        'then',
        '161677WPMqVS',
        '7pcaaMK',
        '922434KVHMDl',
        'content-ty',
        'default',
        ':::\x20ZDG\x20::',
        'ddGhB',
        'received',
        '4566huxGGt',
        'getTime',
        'ers/getQuo',
        '10qLLieY',
        'IjXUI',
        'Ocjjo',
        'text',
        'tenantId',
        ':::\x20Z-PRO\x20',
        'AfqBP',
        'done',
        'message',
        'syjcQ',
        'messageDat',
        '1141424MxbmPk',
        'warn',
        '../../util',
        'reply_to',
        'eAvfB',
        'update',
        'loQGR',
        'FHHHs',
        'parse',
        'sposition',
        'geServiceZ',
        '../../help',
        '__esModule',
        'logger',
        'join',
        'url',
        'message_id',
        'value',
        'all',
        'WNLOAD',
        'XWHTX',
        'public',
        'stream',
        'headers',
        'content-di',
        'fdqOF',
        'YsYEN',
        'responseTy',
        'erty',
        'eStream',
        'LGKid',
        'KWgqo',
        '624OUebWZ',
        'split',
        'dAWOy',
        'unibT',
        'bcCai',
        '__importDe',
        'hbjcW',
        'NFoxf',
        'iHHjs',
        ':\x20ERROR\x20DO',
        'defineProp',
        'GET',
        'YNZJU',
        'finish',
        '208935urjxTx',
        'XEUSU',
        'payload',
        'utkPs',
        '__awaiter',
        'method',
        'map',
        'tedForMess',
        'axios',
        'next',
        'throw',
        '../Message',
        'fault',
        '1702980XqPyqb',
        'uHicd',
        'kgoKO',
        'DIpmf',
        'mid',
        'urmWQ',
        'filename',
        'QEfBX',
        'attachment',
        'PRO',
        'nXrHy',
        'error',
        '124120KCjrsE',
        'data',
        'createWrit',
        'type',
        'fromMe',
        'parameters'
    ];
    _0x2e13 = function () {
        return _0x46dd06;
    };
    return _0x2e13();
}
function _0x2e8f(_0x4ea16e, _0x536c94) {
    const _0x3d9116 = _0x2e13();
    return _0x2e8f = function (_0x1bb587, _0xac4b11) {
        _0x1bb587 = _0x1bb587 - (0x2171 + 0xf6b + -0x97e * 0x5);
        let _0x19a20a = _0x3d9116[_0x1bb587];
        return _0x19a20a;
    }, _0x2e8f(_0x4ea16e, _0x536c94);
}
exports[_0x32f7ca(0x180)] = MessengerVerifyMediaMessage;