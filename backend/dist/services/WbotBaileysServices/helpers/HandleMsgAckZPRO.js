'use strict';
function _0x5d04() {
    const _0x4c616d = [
        'pUxRd',
        'EyFtg',
        '1861334alxISk',
        'ack',
        'tsZPRO',
        '16185501YyPZFI',
        'WebHooksAP',
        'odels/Camp',
        'FbWSC',
        '../../../u',
        'elpers/soc',
        'chat:ack',
        'ticket',
        'odels/ApiM',
        'odels/Mess',
        'defineProp',
        'FqnJx',
        '../../../m',
        'aignContac',
        'hookMessag',
        'essageZPRO',
        'error',
        'ketEmitZPR',
        'rRacK',
        'etZPRO',
        '../../../h',
        'XcgeD',
        'externalKe',
        '__awaiter',
        'LyseK',
        'yvWJL',
        '__esModule',
        'VhehF',
        'next',
        'throw',
        'apiConfig',
        'default',
        '../../../l',
        'ibs/QueueZ',
        'key',
        '134854xZjfdM',
        'messageId',
        'hCvTP',
        'authToken',
        'where',
        'ksQca',
        'tcMwd',
        '148140uBCiSH',
        'then',
        'pMLOJ',
        'tenantId',
        'odels/Tick',
        'tbNdI',
        'OZWBb',
        'value',
        'logger',
        '2710640QiWmhf',
        'bgywT',
        'zPZQR',
        '12974600HvUJbe',
        'eStatus',
        'tmwZW',
        'rZPRO',
        'tils/logge',
        'fault',
        'apply',
        'erty',
        'done',
        'contact',
        'eBYMx',
        'update',
        'findOne',
        'add',
        '896357iXiHjw',
        'quotedMsg',
        '168zmuzRQ',
        '__importDe',
        'urlMessage',
        'PRO',
        'Status',
        'type',
        '112zkXnSK',
        'ageZPRO',
        'XLsIS',
        '30NVRpDP',
        'payload',
        'url',
        'snNcw',
        'kJkDh'
    ];
    _0x5d04 = function () {
        return _0x4c616d;
    };
    return _0x5d04();
}
const _0x381be0 = _0x2f8c;
(function (_0x175cb3, _0x373e57) {
    const _0x470a90 = _0x2f8c, _0x52d2e5 = _0x175cb3();
    while (!![]) {
        try {
            const _0x13a4d5 = -parseInt(_0x470a90(0xff)) / (0x168b * 0x1 + -0x1463 + -0x227) + parseInt(_0x470a90(0x125)) / (0x19cf * -0x1 + -0x89f * 0x2 + 0x2b0f) * (parseInt(_0x470a90(0xf8)) / (0xc75 * 0x3 + 0x27 * 0x42 + 0x22 * -0x165)) + parseInt(_0x470a90(0x135)) / (0x9c3 + -0x1 * -0x1fdb + -0x299a) + parseInt(_0x470a90(0x12c)) / (0x1 * -0x1fb4 + 0xb6 * 0x1f + 0x9af) * (-parseInt(_0x470a90(0xef)) / (-0x13f1 + -0x14eb + -0x28e2 * -0x1)) + -parseInt(_0x470a90(0xed)) / (0x12b5 + -0xbb2 + -0x6fc) * (-parseInt(_0x470a90(0xf5)) / (-0x22 * 0x10f + 0x1f9c + 0x46a)) + parseInt(_0x470a90(0x102)) / (-0x6ad * -0x4 + -0x3e1 + -0x2 * 0xb65) + -parseInt(_0x470a90(0x138)) / (-0xf9 * -0x6 + -0x10b + 0x1 * -0x4c1);
            if (_0x13a4d5 === _0x373e57)
                break;
            else
                _0x52d2e5['push'](_0x52d2e5['shift']());
        } catch (_0x52e33c) {
            _0x52d2e5['push'](_0x52d2e5['shift']());
        }
    }
}(_0x5d04, 0x1a7ac2 + 0x979e7 + 0x7212e * -0x3));
var __awaiter = this && this[_0x381be0(0x119)] || function (_0x5a91cd, _0x3f2266, _0x1ba206, _0x1f9cc7) {
        const _0x1a7d4f = _0x381be0, _0x419b79 = {
                'FqnJx': function (_0x51e327, _0x5ac2b0) {
                    return _0x51e327(_0x5ac2b0);
                },
                'yvWJL': function (_0x40cc98, _0x2d1b48) {
                    return _0x40cc98 instanceof _0x2d1b48;
                },
                'EyFtg': function (_0x46ef64, _0x21de72) {
                    return _0x46ef64(_0x21de72);
                },
                'zPZQR': _0x1a7d4f(0x11f),
                'XcgeD': function (_0x52e2b2, _0x31cc63) {
                    return _0x52e2b2(_0x31cc63);
                }
            };
        function _0x2f3b45(_0x4a863e) {
            const _0x41a101 = _0x1a7d4f, _0x3ccbe5 = {
                    'rRacK': function (_0x3b3e8b, _0x40fb07) {
                        const _0x1ec4c6 = _0x2f8c;
                        return _0x419b79[_0x1ec4c6(0x10d)](_0x3b3e8b, _0x40fb07);
                    }
                };
            return _0x419b79[_0x41a101(0x11b)](_0x4a863e, _0x1ba206) ? _0x4a863e : new _0x1ba206(function (_0x48f686) {
                const _0x45b4ee = _0x41a101;
                _0x3ccbe5[_0x45b4ee(0x114)](_0x48f686, _0x4a863e);
            });
        }
        return new (_0x1ba206 || (_0x1ba206 = Promise))(function (_0x4c62a9, _0x1d3a80) {
            const _0x265036 = _0x1a7d4f, _0x2d16af = {
                    'LyseK': function (_0x270a73, _0x54c099) {
                        const _0x2bb49c = _0x2f8c;
                        return _0x419b79[_0x2bb49c(0x117)](_0x270a73, _0x54c099);
                    }
                };
            function _0x52caf6(_0x1f6090) {
                const _0x2409f1 = _0x2f8c;
                try {
                    _0x419b79[_0x2409f1(0x10d)](_0x3b026d, _0x1f9cc7[_0x2409f1(0x11e)](_0x1f6090));
                } catch (_0x43e8c2) {
                    _0x419b79[_0x2409f1(0xfe)](_0x1d3a80, _0x43e8c2);
                }
            }
            function _0x1100ac(_0x386d96) {
                const _0x29ae9a = _0x2f8c;
                try {
                    _0x419b79[_0x29ae9a(0xfe)](_0x3b026d, _0x1f9cc7[_0x419b79[_0x29ae9a(0x137)]](_0x386d96));
                } catch (_0x1a270a) {
                    _0x419b79[_0x29ae9a(0xfe)](_0x1d3a80, _0x1a270a);
                }
            }
            function _0x3b026d(_0x2a6293) {
                const _0x1e7cd3 = _0x2f8c;
                _0x2a6293[_0x1e7cd3(0xe7)] ? _0x2d16af[_0x1e7cd3(0x11a)](_0x4c62a9, _0x2a6293[_0x1e7cd3(0x133)]) : _0x2d16af[_0x1e7cd3(0x11a)](_0x2f3b45, _0x2a6293[_0x1e7cd3(0x133)])[_0x1e7cd3(0x12d)](_0x52caf6, _0x1100ac);
            }
            _0x419b79[_0x265036(0xfe)](_0x3b026d, (_0x1f9cc7 = _0x1f9cc7[_0x265036(0xe5)](_0x5a91cd, _0x3f2266 || []))[_0x265036(0x11e)]());
        });
    }, __importDefault = this && this[_0x381be0(0xf0) + _0x381be0(0x13d)] || function (_0x3b66df) {
        const _0x1280f7 = _0x381be0;
        return _0x3b66df && _0x3b66df[_0x1280f7(0x11c)] ? _0x3b66df : { 'default': _0x3b66df };
    };
const _0x2f64a3 = {};
_0x2f64a3[_0x381be0(0x133)] = !![], Object[_0x381be0(0x10c) + _0x381be0(0xe6)](exports, _0x381be0(0x11c), _0x2f64a3);
function _0x2f8c(_0x3f0c5d, _0x2b791f) {
    const _0x1586e6 = _0x5d04();
    return _0x2f8c = function (_0x2f5685, _0x22efdd) {
        _0x2f5685 = _0x2f5685 - (-0x1 * -0x1c16 + 0x1c5 * 0x5 + -0x240a);
        let _0x51e16c = _0x1586e6[_0x2f5685];
        return _0x51e16c;
    }, _0x2f8c(_0x3f0c5d, _0x2b791f);
}
const MessageZPRO_1 = __importDefault(require(_0x381be0(0x10e) + _0x381be0(0x10b) + _0x381be0(0xf6))), TicketZPRO_1 = __importDefault(require(_0x381be0(0x10e) + _0x381be0(0x130) + _0x381be0(0x115))), loggerZPRO_1 = require(_0x381be0(0x106) + _0x381be0(0x13c) + _0x381be0(0x13b)), CampaignContactsZPRO_1 = __importDefault(require(_0x381be0(0x10e) + _0x381be0(0x104) + _0x381be0(0x10f) + _0x381be0(0x101))), ApiMessageZPRO_1 = __importDefault(require(_0x381be0(0x10e) + _0x381be0(0x10a) + _0x381be0(0x111))), socketEmitZPRO_1 = __importDefault(require(_0x381be0(0x116) + _0x381be0(0x107) + _0x381be0(0x113) + 'O')), QueueZPRO_1 = __importDefault(require(_0x381be0(0x122) + _0x381be0(0x123) + _0x381be0(0xf2))), HandleMsgAck = (_0x384c5f, _0x29dce6) => __awaiter(void (-0xe17 + -0x1ede + -0x11 * -0x2a5), void (-0x2 * 0xd5a + 0x200b + 0x557 * -0x1), void (-0x8f1 * 0x3 + 0x25d0 + -0xafd), function* () {
        const _0x1dd641 = _0x381be0, _0x4d677c = {};
        _0x4d677c[_0x1dd641(0x13a)] = function (_0x50903e, _0x18b357) {
            return _0x50903e === _0x18b357;
        }, _0x4d677c[_0x1dd641(0xfb)] = _0x1dd641(0xe8), _0x4d677c[_0x1dd641(0xe9)] = _0x1dd641(0x109), _0x4d677c[_0x1dd641(0xfc)] = _0x1dd641(0x12f), _0x4d677c[_0x1dd641(0x132)] = _0x1dd641(0x120), _0x4d677c[_0x1dd641(0x127)] = _0x1dd641(0xee), _0x4d677c[_0x1dd641(0x12b)] = function (_0xd74198, _0x353e5f) {
            return _0xd74198 < _0x353e5f;
        }, _0x4d677c[_0x1dd641(0x12e)] = _0x1dd641(0x108), _0x4d677c[_0x1dd641(0xfd)] = function (_0x5aacf7, _0x206f10) {
            return _0x5aacf7 === _0x206f10;
        }, _0x4d677c[_0x1dd641(0x136)] = function (_0x1beb72, _0x2a86a8) {
            return _0x1beb72 === _0x2a86a8;
        }, _0x4d677c[_0x1dd641(0xf7)] = function (_0xb1b273, _0xe459c) {
            return _0xb1b273 === _0xe459c;
        }, _0x4d677c[_0x1dd641(0x11d)] = function (_0x2bff95, _0x3e9ff7) {
            return _0x2bff95 === _0x3e9ff7;
        }, _0x4d677c[_0x1dd641(0x131)] = function (_0x4bd38f, _0x111c53) {
            return _0x4bd38f === _0x111c53;
        }, _0x4d677c[_0x1dd641(0x105)] = _0x1dd641(0x110) + _0x1dd641(0x139), _0x4d677c[_0x1dd641(0x12a)] = _0x1dd641(0x103) + 'I';
        const _0x5ce796 = _0x4d677c;
        yield new Promise(_0x2f01c0 => setTimeout(_0x2f01c0, -0x93c + -0xab * -0x1b + -0x6d9));
        if (_0x5ce796[_0x1dd641(0x13a)](_0x29dce6, null) || !_0x384c5f[_0x1dd641(0x124)]['id'])
            return;
        try {
            const _0x5a2fe1 = {};
            _0x5a2fe1[_0x1dd641(0x126)] = _0x384c5f[_0x1dd641(0x124)]['id'];
            const _0x80201c = yield MessageZPRO_1[_0x1dd641(0x121)][_0x1dd641(0xeb)]({
                'where': _0x5a2fe1,
                'include': [
                    _0x5ce796[_0x1dd641(0xfb)],
                    {
                        'model': TicketZPRO_1[_0x1dd641(0x121)],
                        'as': _0x5ce796[_0x1dd641(0xe9)],
                        'attributes': [
                            'id',
                            _0x5ce796[_0x1dd641(0xfc)],
                            _0x5ce796[_0x1dd641(0x132)]
                        ]
                    },
                    {
                        'model': MessageZPRO_1[_0x1dd641(0x121)],
                        'as': _0x5ce796[_0x1dd641(0x127)],
                        'include': [_0x5ce796[_0x1dd641(0xfb)]]
                    }
                ]
            });
            if (_0x80201c && _0x5ce796[_0x1dd641(0x12b)](_0x80201c[_0x1dd641(0x100)], _0x29dce6)) {
                const _0x3e859a = {};
                _0x3e859a[_0x1dd641(0x100)] = _0x29dce6, yield _0x80201c[_0x1dd641(0xea)](_0x3e859a);
                const {ticket: _0x2e73bd} = _0x80201c, _0x4b23cb = {};
                _0x4b23cb[_0x1dd641(0x12f)] = _0x2e73bd[_0x1dd641(0x12f)], _0x4b23cb[_0x1dd641(0xf4)] = _0x5ce796[_0x1dd641(0x12e)], _0x4b23cb[_0x1dd641(0xf9)] = _0x80201c, (0xd3f + -0x1886 + -0xb47 * -0x1, socketEmitZPRO_1[_0x1dd641(0x121)])(_0x4b23cb);
                const _0xfe9634 = _0x2e73bd[_0x1dd641(0x120)] || {};
                if ((_0x5ce796[_0x1dd641(0xfd)](_0xfe9634, null) || _0x5ce796[_0x1dd641(0x136)](_0xfe9634, void (0xbd2 * -0x1 + -0x1999 * -0x1 + -0xdc7)) ? void (0x94 * 0x1d + 0x2659 + -0x371d) : _0xfe9634[_0x1dd641(0x118) + 'y']) && (_0x5ce796[_0x1dd641(0xf7)](_0xfe9634, null) || _0x5ce796[_0x1dd641(0x11d)](_0xfe9634, void (-0x511 + -0x1af * 0x2 + -0x7f * -0x11)) ? void (-0xf15 + -0x1bd2 + 0x20b * 0x15) : _0xfe9634[_0x1dd641(0xf1) + _0x1dd641(0xf3)])) {
                    const _0x246db0 = {
                            'ack': _0x29dce6,
                            'messageId': _0x384c5f[_0x1dd641(0x124)]['id'],
                            'ticketId': _0x2e73bd['id'],
                            'externalKey': _0x5ce796[_0x1dd641(0x13a)](_0xfe9634, null) || _0x5ce796[_0x1dd641(0x13a)](_0xfe9634, void (0x16f2 + -0x1 * -0x2155 + -0x3847)) ? void (-0x1 * -0x1c46 + 0x19ac + 0x1 * -0x35f2) : _0xfe9634[_0x1dd641(0x118) + 'y'],
                            'authToken': _0x5ce796[_0x1dd641(0x131)](_0xfe9634, null) || _0x5ce796[_0x1dd641(0xfd)](_0xfe9634, void (-0x1b39 + -0x2267 * 0x1 + 0x110 * 0x3a)) ? void (-0x1d45 + -0x101 * -0x1b + -0x22a * -0x1) : _0xfe9634[_0x1dd641(0x128)],
                            'type': _0x5ce796[_0x1dd641(0x105)]
                        }, _0x340f75 = {};
                    _0x340f75[_0x1dd641(0xfa)] = _0xfe9634[_0x1dd641(0xf1) + _0x1dd641(0xf3)], _0x340f75[_0x1dd641(0xf4)] = _0x246db0[_0x1dd641(0xf4)], _0x340f75[_0x1dd641(0xf9)] = _0x246db0, QueueZPRO_1[_0x1dd641(0x121)][_0x1dd641(0xec)](_0x5ce796[_0x1dd641(0x12a)], _0x340f75);
                }
            }
            const _0x1727f8 = {};
            _0x1727f8[_0x1dd641(0x126)] = _0x384c5f[_0x1dd641(0x124)]['id'];
            const _0x132a6e = {};
            _0x132a6e[_0x1dd641(0x129)] = _0x1727f8;
            const _0x49e94a = yield ApiMessageZPRO_1[_0x1dd641(0x121)][_0x1dd641(0xeb)](_0x132a6e);
            if (_0x49e94a) {
                const _0xe67402 = {};
                _0xe67402[_0x1dd641(0x100)] = _0x29dce6, yield _0x49e94a[_0x1dd641(0xea)](_0xe67402);
            }
            const _0x1f9a46 = {};
            _0x1f9a46[_0x1dd641(0x126)] = _0x384c5f[_0x1dd641(0x124)]['id'];
            const _0x37d199 = {};
            _0x37d199[_0x1dd641(0x129)] = _0x1f9a46;
            const _0xb03f2e = yield CampaignContactsZPRO_1[_0x1dd641(0x121)][_0x1dd641(0xeb)](_0x37d199);
            if (_0xb03f2e) {
                const _0x5653cb = {};
                _0x5653cb[_0x1dd641(0x100)] = _0x29dce6, yield _0xb03f2e[_0x1dd641(0xea)](_0x5653cb);
            }
        } catch (_0x270925) {
            loggerZPRO_1[_0x1dd641(0x134)][_0x1dd641(0x112)](_0x270925);
        }
    });
exports[_0x381be0(0x121)] = HandleMsgAck;