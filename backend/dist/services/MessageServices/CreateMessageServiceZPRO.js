'use strict';
const _0x310a13 = _0x2c5a;
(function (_0x5efcc3, _0x3e5597) {
    const _0x5bbbd6 = _0x2c5a, _0x4b4391 = _0x5efcc3();
    while (!![]) {
        try {
            const _0xa03e66 = parseInt(_0x5bbbd6(0x9e)) / (-0x41c + 0xa63 + -0x646) * (-parseInt(_0x5bbbd6(0xc5)) / (-0x211d + -0x3 * 0x17b + 0x2590)) + parseInt(_0x5bbbd6(0xa6)) / (-0x1c27 + 0xf23 + 0xd07) + parseInt(_0x5bbbd6(0xd7)) / (0xa4c + 0x1d90 + 0x1fe * -0x14) + parseInt(_0x5bbbd6(0x9c)) / (-0x583 * 0x1 + -0x2371 * 0x1 + 0x269 * 0x11) + parseInt(_0x5bbbd6(0xd4)) / (0x1511 + -0x1 * -0xfad + -0x24b8) + parseInt(_0x5bbbd6(0xbe)) / (-0x1 * 0x403 + -0x1b1d + 0x1f27) * (parseInt(_0x5bbbd6(0xb7)) / (-0x1 * 0x18ee + 0x507 + -0x15 * -0xf3)) + -parseInt(_0x5bbbd6(0xae)) / (-0x1 * 0xdb7 + 0x6e4 + 0x6dc);
            if (_0xa03e66 === _0x3e5597)
                break;
            else
                _0x4b4391['push'](_0x4b4391['shift']());
        } catch (_0x497008) {
            _0x4b4391['push'](_0x4b4391['shift']());
        }
    }
}(_0xde87, 0x3cbb4 + 0x3d1b3 + 0x3a2 * -0xe7));
function _0x2c5a(_0x8c379e, _0xae24cd) {
    const _0x422c9b = _0xde87();
    return _0x2c5a = function (_0x1340a4, _0x431636) {
        _0x1340a4 = _0x1340a4 - (0x1567 + -0x12f1 + 0x3c * -0x8);
        let _0x529b39 = _0x422c9b[_0x1340a4];
        return _0x529b39;
    }, _0x2c5a(_0x8c379e, _0xae24cd);
}
function _0xde87() {
    const _0x2fc215 = [
        'vjPdJ',
        '639965ovSWKd',
        'MoYfw',
        '5614cPdQWE',
        'yVlbb',
        'YRVCD',
        'ls/TicketZ',
        'NG_MESSAGE',
        'chat:creat',
        'name',
        '__importDe',
        '1288014IUOJXT',
        'ls/Message',
        'payload',
        'throw',
        'quotedMsg',
        'assign',
        'ZPRO',
        'ers/socket',
        '5091795hsiarL',
        'zZTwe',
        'findOne',
        'KPOld',
        'MlOXr',
        'iWvpt',
        'defineProp',
        'then',
        'next',
        '48NwhSFW',
        'Xirqu',
        '../../help',
        'PRO',
        '../../mode',
        'lbxkD',
        '__esModule',
        '76356ctIKtG',
        'ticketImpo',
        'type',
        'cgyoo',
        'update',
        'where',
        'contact',
        '106ryZpsn',
        'ERR_CREATI',
        '__awaiter',
        'create',
        'model',
        'value',
        'numOB',
        'default',
        'erty',
        'fault',
        'nhMWG',
        'SvvfC',
        'SDizA',
        'ls/Contact',
        'ticket',
        '1985640bUVCMO',
        'EmitZPRO',
        'include',
        '775180cZfAkW',
        'apply',
        'tenantId',
        'messageId',
        'rted',
        'done'
    ];
    _0xde87 = function () {
        return _0x2fc215;
    };
    return _0xde87();
}
var __awaiter = this && this[_0x310a13(0xc7)] || function (_0xd92cc2, _0xccf067, _0x2f4dd9, _0x13a5c0) {
        const _0x30a937 = _0x310a13, _0x56ccb5 = {
                'MlOXr': function (_0x225427, _0x58d083) {
                    return _0x225427(_0x58d083);
                },
                'yVlbb': function (_0x1bd5ef, _0x92834b) {
                    return _0x1bd5ef instanceof _0x92834b;
                },
                'KPOld': _0x30a937(0xa9),
                'nhMWG': function (_0x12390b, _0x5cd023) {
                    return _0x12390b(_0x5cd023);
                },
                'vjPdJ': function (_0xaa57a8, _0x1c4932) {
                    return _0xaa57a8(_0x1c4932);
                }
            };
        function _0x46476c(_0x30cc15) {
            const _0x11a2e5 = _0x30a937;
            return _0x56ccb5[_0x11a2e5(0x9f)](_0x30cc15, _0x2f4dd9) ? _0x30cc15 : new _0x2f4dd9(function (_0x520a23) {
                const _0x53e56e = _0x11a2e5;
                _0x56ccb5[_0x53e56e(0xb2)](_0x520a23, _0x30cc15);
            });
        }
        return new (_0x2f4dd9 || (_0x2f4dd9 = Promise))(function (_0xd3bf7, _0xdc73e4) {
            const _0x26c94d = _0x30a937, _0x4324e0 = {
                    'cgyoo': function (_0x43adce, _0x12dd51) {
                        const _0x4f5448 = _0x2c5a;
                        return _0x56ccb5[_0x4f5448(0xcf)](_0x43adce, _0x12dd51);
                    },
                    'SDizA': function (_0x4ed708, _0xebfb05) {
                        const _0x1f50e9 = _0x2c5a;
                        return _0x56ccb5[_0x1f50e9(0x9b)](_0x4ed708, _0xebfb05);
                    }
                };
            function _0x39a3ae(_0x57397c) {
                const _0x515460 = _0x2c5a;
                try {
                    _0x4324e0[_0x515460(0xc1)](_0x5d43d4, _0x13a5c0[_0x515460(0xb6)](_0x57397c));
                } catch (_0x82926c) {
                    _0x4324e0[_0x515460(0xd1)](_0xdc73e4, _0x82926c);
                }
            }
            function _0x407d1b(_0x352927) {
                const _0x2fe928 = _0x2c5a;
                try {
                    _0x56ccb5[_0x2fe928(0xb2)](_0x5d43d4, _0x13a5c0[_0x56ccb5[_0x2fe928(0xb1)]](_0x352927));
                } catch (_0x30dac0) {
                    _0x56ccb5[_0x2fe928(0xb2)](_0xdc73e4, _0x30dac0);
                }
            }
            function _0x5d43d4(_0xc94af0) {
                const _0x382568 = _0x2c5a;
                _0xc94af0[_0x382568(0x9a)] ? _0x56ccb5[_0x382568(0xcf)](_0xd3bf7, _0xc94af0[_0x382568(0xca)]) : _0x56ccb5[_0x382568(0xcf)](_0x46476c, _0xc94af0[_0x382568(0xca)])[_0x382568(0xb5)](_0x39a3ae, _0x407d1b);
            }
            _0x56ccb5[_0x26c94d(0xb2)](_0x5d43d4, (_0x13a5c0 = _0x13a5c0[_0x26c94d(0x96)](_0xd92cc2, _0xccf067 || []))[_0x26c94d(0xb6)]());
        });
    }, __importDefault = this && this[_0x310a13(0xa5) + _0x310a13(0xce)] || function (_0x52d68a) {
        const _0x51e931 = _0x310a13;
        return _0x52d68a && _0x52d68a[_0x51e931(0xbd)] ? _0x52d68a : { 'default': _0x52d68a };
    };
const _0x5809ef = {};
_0x5809ef[_0x310a13(0xca)] = !![], Object[_0x310a13(0xb4) + _0x310a13(0xcd)](exports, _0x310a13(0xbd), _0x5809ef);
const MessageZPRO_1 = __importDefault(require(_0x310a13(0xbb) + _0x310a13(0xa7) + _0x310a13(0xac))), TicketZPRO_1 = __importDefault(require(_0x310a13(0xbb) + _0x310a13(0xa1) + _0x310a13(0xba))), socketEmitZPRO_1 = __importDefault(require(_0x310a13(0xb9) + _0x310a13(0xad) + _0x310a13(0xd5))), ContactZPRO_1 = __importDefault(require(_0x310a13(0xbb) + _0x310a13(0xd2) + _0x310a13(0xac))), CreateMessageService = ({
        messageData: _0x3bba8f,
        tenantId: _0x5718fd
    }) => __awaiter(void (0x6d7 + 0x3d * -0x34 + -0x7 * -0xcb), void (0x2271 + -0xaa0 + -0x17d1), void (-0x1681 + 0xf91 + 0x6f0), function* () {
        const _0x4b7e58 = _0x310a13, _0x434a70 = {};
        _0x434a70[_0x4b7e58(0xb3)] = _0x4b7e58(0xd3), _0x434a70[_0x4b7e58(0xcb)] = _0x4b7e58(0xc4), _0x434a70[_0x4b7e58(0xbc)] = _0x4b7e58(0xaa), _0x434a70[_0x4b7e58(0x9d)] = _0x4b7e58(0xa4), _0x434a70[_0x4b7e58(0xaf)] = _0x4b7e58(0xc6) + _0x4b7e58(0xa2), _0x434a70[_0x4b7e58(0xa0)] = function (_0x3e82a1, _0x279332) {
            return _0x3e82a1 === _0x279332;
        }, _0x434a70[_0x4b7e58(0xd0)] = function (_0x4795bd, _0x376476) {
            return _0x4795bd === _0x376476;
        }, _0x434a70[_0x4b7e58(0xb8)] = _0x4b7e58(0xa3) + 'e';
        const _0x506e88 = _0x434a70, _0x5097ac = {};
        _0x5097ac[_0x4b7e58(0x98)] = _0x3bba8f[_0x4b7e58(0x98)], _0x5097ac[_0x4b7e58(0x97)] = _0x5718fd;
        const _0x56003b = {};
        _0x56003b[_0x4b7e58(0xc3)] = _0x5097ac;
        const _0x4730f8 = yield MessageZPRO_1[_0x4b7e58(0xcc)][_0x4b7e58(0xb0)](_0x56003b);
        if (!_0x4730f8) {
            const _0x55477c = {};
            _0x55477c[_0x4b7e58(0x97)] = _0x5718fd, yield MessageZPRO_1[_0x4b7e58(0xcc)][_0x4b7e58(0xc8)](Object[_0x4b7e58(0xab)](Object[_0x4b7e58(0xab)]({}, _0x3bba8f), _0x55477c));
        } else
            yield _0x4730f8[_0x4b7e58(0xc2)](_0x3bba8f);
        const _0x1982b2 = {};
        _0x1982b2[_0x4b7e58(0x98)] = _0x3bba8f[_0x4b7e58(0x98)], _0x1982b2[_0x4b7e58(0x97)] = _0x5718fd;
        const _0x3f3668 = {};
        _0x3f3668[_0x4b7e58(0x97)] = _0x5718fd;
        const _0x3f4588 = {};
        _0x3f4588[_0x4b7e58(0xc9)] = TicketZPRO_1[_0x4b7e58(0xcc)], _0x3f4588['as'] = _0x506e88[_0x4b7e58(0xb3)], _0x3f4588[_0x4b7e58(0xc3)] = _0x3f3668, _0x3f4588[_0x4b7e58(0xd6)] = [_0x506e88[_0x4b7e58(0xcb)]];
        const _0x354df1 = yield MessageZPRO_1[_0x4b7e58(0xcc)][_0x4b7e58(0xb0)]({
            'where': _0x1982b2,
            'include': [
                _0x3f4588,
                {
                    'model': MessageZPRO_1[_0x4b7e58(0xcc)],
                    'as': _0x506e88[_0x4b7e58(0xbc)],
                    'include': [_0x506e88[_0x4b7e58(0xcb)]]
                },
                {
                    'model': ContactZPRO_1[_0x4b7e58(0xcc)],
                    'attributes': [
                        'id',
                        _0x506e88[_0x4b7e58(0x9d)]
                    ]
                }
            ]
        });
        if (!_0x354df1)
            throw new Error(_0x506e88[_0x4b7e58(0xaf)]);
        if (!(_0x506e88[_0x4b7e58(0xa0)](_0x3bba8f, null) || _0x506e88[_0x4b7e58(0xd0)](_0x3bba8f, void (-0x23e + -0xfca + 0x1208)) ? void (-0x18c0 + 0x1 * 0x20c0 + -0x40 * 0x20) : _0x3bba8f[_0x4b7e58(0xbf) + _0x4b7e58(0x99)])) {
            const _0x4fabbb = {};
            _0x4fabbb[_0x4b7e58(0x97)] = _0x5718fd, _0x4fabbb[_0x4b7e58(0xc0)] = _0x506e88[_0x4b7e58(0xb8)], _0x4fabbb[_0x4b7e58(0xa8)] = _0x354df1, (-0x1a47 + -0x45 * 0x8b + -0x2 * -0x1fdf, socketEmitZPRO_1[_0x4b7e58(0xcc)])(_0x4fabbb);
        }
        return _0x354df1;
    });
exports[_0x310a13(0xcc)] = CreateMessageService;