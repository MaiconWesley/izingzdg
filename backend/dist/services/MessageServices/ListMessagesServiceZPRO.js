'use strict';
const _0x274dbb = _0x3abe;
(function (_0x17c99d, _0x58f4b7) {
    const _0x13d057 = _0x3abe, _0x558c16 = _0x17c99d();
    while (!![]) {
        try {
            const _0x171200 = -parseInt(_0x13d057(0xc4)) / (-0x1 * -0xd2b + -0x1b16 + 0x3 * 0x4a4) * (parseInt(_0x13d057(0xc3)) / (-0x30 + 0x2 * -0xd3d + -0x472 * -0x6)) + parseInt(_0x13d057(0xde)) / (0x95b * -0x3 + 0x1fa8 + -0x394) * (-parseInt(_0x13d057(0xa6)) / (-0x733 + 0x451 + -0x1 * -0x2e6)) + -parseInt(_0x13d057(0xb0)) / (-0x416 + -0x12f + 0x54a) + -parseInt(_0x13d057(0xdc)) / (-0x6d0 + -0x17b3 + 0x1e89) + parseInt(_0x13d057(0xd6)) / (0xa15 * 0x1 + 0xa2b + 0x1439 * -0x1) + -parseInt(_0x13d057(0xab)) / (-0x771 * 0x2 + -0x1 * 0xcf6 + 0x1be0) * (-parseInt(_0x13d057(0xcf)) / (0x95 * 0x11 + -0x3fa * 0x1 + 0x1f6 * -0x3)) + -parseInt(_0x13d057(0xc7)) / (-0xac7 * 0x1 + -0xc5 * 0xf + 0x165c) * (-parseInt(_0x13d057(0xe9)) / (0x797 + 0x1e75 + -0x2601));
            if (_0x171200 === _0x58f4b7)
                break;
            else
                _0x558c16['push'](_0x558c16['shift']());
        } catch (_0x20cd70) {
            _0x558c16['push'](_0x558c16['shift']());
        }
    }
}(_0x4766, 0x65 * -0x2076 + 0x103f1 * 0x7 + -0x17 * -0x9117));
function _0x3abe(_0x105f99, _0xf6c4) {
    const _0x218b31 = _0x4766();
    return _0x3abe = function (_0xc3ec89, _0x22e58a) {
        _0xc3ec89 = _0xc3ec89 - (0x1 * -0x1a3f + -0x3 * -0x7db + 0x34e);
        let _0x5042dc = _0x218b31[_0xc3ec89];
        return _0x5042dc;
    }, _0x3abe(_0x105f99, _0xf6c4);
}
function _0x4766() {
    const _0x40bac5 = [
        'order',
        'done',
        'ntAll',
        '5275350KBNbZq',
        'contact',
        '772503YcuLfs',
        'lkCeW',
        'quotedMsg',
        '../../erro',
        'ervices/Sh',
        'reverse',
        'rviceZPRO',
        'whatsappId',
        'DESC',
        'erty',
        'ticketId',
        '22217371HiYNNb',
        'Ygwbc',
        'cXOfn',
        'rJBNt',
        'value',
        'ogzYj',
        'findAndCou',
        'fault',
        'ls/Message',
        '4VYYNpT',
        'next',
        'QiRhL',
        'throw',
        '../../mode',
        '104KKPswT',
        'KET_FOUND',
        'contactId',
        'OffLineZPR',
        '../TicketS',
        '1318760LHPxBj',
        'JhlFg',
        'tenantId',
        'rs/AppErro',
        'required',
        'model',
        'then',
        'FbibK',
        'rBRyE',
        '__awaiter',
        'kYlvm',
        'length',
        'where',
        'rZPRO',
        'QnFih',
        'CIILh',
        'zExEg',
        'ls/TicketZ',
        'default',
        '4JzuWzp',
        '311802RipABE',
        'include',
        'defineProp',
        '10SPJOAk',
        'aAazU',
        '__importDe',
        'ERR_NO_TIC',
        'apply',
        'createdAt',
        'owTicketSe',
        'QKucw',
        '323829bsiyZv',
        'ZPRO',
        'UdIEb',
        'queueId',
        'DyCyO',
        'PRO',
        'DlAkw',
        '121534cCbUth',
        '__esModule',
        'UJFQz'
    ];
    _0x4766 = function () {
        return _0x40bac5;
    };
    return _0x4766();
}
var __awaiter = this && this[_0x274dbb(0xb9)] || function (_0x35051e, _0x3d24c3, _0x35650d, _0x4dd625) {
        const _0x1bd521 = _0x274dbb, _0x5d99d4 = {
                'UdIEb': function (_0x5652ca, _0x295cfc) {
                    return _0x5652ca(_0x295cfc);
                },
                'lkCeW': function (_0x350c29, _0x536308) {
                    return _0x350c29 instanceof _0x536308;
                },
                'rBRyE': _0x1bd521(0xa9),
                'JhlFg': function (_0x34e082, _0x4b4581) {
                    return _0x34e082(_0x4b4581);
                },
                'Ygwbc': function (_0x4250f2, _0x17a62c) {
                    return _0x4250f2(_0x17a62c);
                }
            };
        function _0x264cbe(_0x48fa37) {
            const _0x486a39 = _0x1bd521, _0x2c3a83 = {
                    'zExEg': function (_0x5a513f, _0x32a890) {
                        const _0x2f4ee2 = _0x3abe;
                        return _0x5d99d4[_0x2f4ee2(0xd1)](_0x5a513f, _0x32a890);
                    }
                };
            return _0x5d99d4[_0x486a39(0xdf)](_0x48fa37, _0x35650d) ? _0x48fa37 : new _0x35650d(function (_0x301254) {
                const _0x9a6d1a = _0x486a39;
                _0x2c3a83[_0x9a6d1a(0xc0)](_0x301254, _0x48fa37);
            });
        }
        return new (_0x35650d || (_0x35650d = Promise))(function (_0x3001e1, _0x3330fb) {
            const _0x4052b2 = _0x1bd521, _0x24bb78 = {
                    'QKucw': function (_0x1c50e9, _0x2e8a21) {
                        const _0x20efd1 = _0x3abe;
                        return _0x5d99d4[_0x20efd1(0xd1)](_0x1c50e9, _0x2e8a21);
                    },
                    'FbibK': _0x5d99d4[_0x4052b2(0xb8)],
                    'QnFih': function (_0x35108a, _0x22e761) {
                        const _0x4c1334 = _0x4052b2;
                        return _0x5d99d4[_0x4c1334(0xb1)](_0x35108a, _0x22e761);
                    }
                };
            function _0x58a918(_0x370294) {
                const _0x258d0 = _0x4052b2;
                try {
                    _0x24bb78[_0x258d0(0xce)](_0x440914, _0x4dd625[_0x258d0(0xa7)](_0x370294));
                } catch (_0x4b8c2f) {
                    _0x24bb78[_0x258d0(0xce)](_0x3330fb, _0x4b8c2f);
                }
            }
            function _0x8bde41(_0x589252) {
                const _0xaaee = _0x4052b2;
                try {
                    _0x24bb78[_0xaaee(0xce)](_0x440914, _0x4dd625[_0x24bb78[_0xaaee(0xb7)]](_0x589252));
                } catch (_0x483ebe) {
                    _0x24bb78[_0xaaee(0xce)](_0x3330fb, _0x483ebe);
                }
            }
            function _0x440914(_0x40ae59) {
                const _0x227cad = _0x4052b2;
                _0x40ae59[_0x227cad(0xda)] ? _0x24bb78[_0x227cad(0xce)](_0x3001e1, _0x40ae59[_0x227cad(0xa1)]) : _0x24bb78[_0x227cad(0xbe)](_0x264cbe, _0x40ae59[_0x227cad(0xa1)])[_0x227cad(0xb6)](_0x58a918, _0x8bde41);
            }
            _0x5d99d4[_0x4052b2(0xea)](_0x440914, (_0x4dd625 = _0x4dd625[_0x4052b2(0xcb)](_0x35051e, _0x3d24c3 || []))[_0x4052b2(0xa7)]());
        });
    }, __importDefault = this && this[_0x274dbb(0xc9) + _0x274dbb(0xa4)] || function (_0x2cfc19) {
        const _0x486433 = _0x274dbb;
        return _0x2cfc19 && _0x2cfc19[_0x486433(0xd7)] ? _0x2cfc19 : { 'default': _0x2cfc19 };
    };
const _0x4d5bee = {};
_0x4d5bee[_0x274dbb(0xa1)] = !![], Object[_0x274dbb(0xc6) + _0x274dbb(0xe7)](exports, _0x274dbb(0xd7), _0x4d5bee);
const AppErrorZPRO_1 = __importDefault(require(_0x274dbb(0xe1) + _0x274dbb(0xb3) + _0x274dbb(0xbd))), MessageZPRO_1 = __importDefault(require(_0x274dbb(0xaa) + _0x274dbb(0xa5) + _0x274dbb(0xd0))), MessageOffLineZPRO_1 = __importDefault(require(_0x274dbb(0xaa) + _0x274dbb(0xa5) + _0x274dbb(0xae) + 'O')), TicketZPRO_1 = __importDefault(require(_0x274dbb(0xaa) + _0x274dbb(0xc1) + _0x274dbb(0xd4))), ShowTicketServiceZPRO_1 = __importDefault(require(_0x274dbb(0xaf) + _0x274dbb(0xe2) + _0x274dbb(0xcd) + _0x274dbb(0xe4))), ListMessagesService = ({
        pageNumber: pageNumber = '1',
        ticketId: _0x103892,
        tenantId: _0xc595e1
    }) => __awaiter(void (-0xfc1 + -0xfe + -0x3 * -0x595), void (-0x40c * 0x1 + -0x52e + 0x93a), void (0x2f5 + 0x1 * -0x15ba + 0x12c5), function* () {
        const _0x1d82e = _0x274dbb, _0x5bde1b = {};
        _0x5bde1b[_0x1d82e(0xd8)] = _0x1d82e(0xca) + _0x1d82e(0xac), _0x5bde1b[_0x1d82e(0xba)] = function (_0x3662e, _0x1622bb) {
            return _0x3662e * _0x1622bb;
        }, _0x5bde1b[_0x1d82e(0xc8)] = function (_0x52bd1e, _0x41e966) {
            return _0x52bd1e - _0x41e966;
        }, _0x5bde1b[_0x1d82e(0xd3)] = _0x1d82e(0xdd), _0x5bde1b[_0x1d82e(0xbf)] = _0x1d82e(0xe0), _0x5bde1b[_0x1d82e(0xa0)] = _0x1d82e(0xcc), _0x5bde1b[_0x1d82e(0xd5)] = _0x1d82e(0xe6), _0x5bde1b[_0x1d82e(0xeb)] = function (_0x30ba30, _0x446148) {
            return _0x30ba30 === _0x446148;
        }, _0x5bde1b[_0x1d82e(0xa8)] = function (_0x118cea, _0x2eac3b) {
            return _0x118cea > _0x2eac3b;
        }, _0x5bde1b[_0x1d82e(0xa2)] = function (_0x57bc62, _0x37d5ee) {
            return _0x57bc62 + _0x37d5ee;
        };
        const _0x133e5b = _0x5bde1b, _0x1ccf68 = {};
        _0x1ccf68['id'] = _0x103892, _0x1ccf68[_0x1d82e(0xb2)] = _0xc595e1;
        const _0x3e92f4 = yield (-0x304 + 0x2393 * -0x1 + 0x59 * 0x6f, ShowTicketServiceZPRO_1[_0x1d82e(0xc2)])(_0x1ccf68);
        if (!_0x3e92f4)
            throw new AppErrorZPRO_1[(_0x1d82e(0xc2))](_0x133e5b[_0x1d82e(0xd8)], 0x2550 + -0xe70 + -0x154c);
        const _0x1ae380 = -0x13e0 + 0x12d3 * 0x1 + 0x12b, _0x3c9216 = _0x133e5b[_0x1d82e(0xba)](_0x1ae380, _0x133e5b[_0x1d82e(0xc8)](+pageNumber, 0x1cf9 + 0x1 * -0xb41 + 0x5 * -0x38b)), _0x290523 = {};
        _0x290523[_0x1d82e(0xd2)] = _0x3e92f4[_0x1d82e(0xd2)], _0x290523[_0x1d82e(0xad)] = _0x3e92f4[_0x1d82e(0xad)], _0x290523[_0x1d82e(0xe5)] = _0x3e92f4[_0x1d82e(0xe5)];
        const _0x350c50 = {};
        _0x350c50[_0x1d82e(0xb5)] = TicketZPRO_1[_0x1d82e(0xc2)], _0x350c50[_0x1d82e(0xbc)] = _0x290523, _0x350c50[_0x1d82e(0xb4)] = !![];
        const {
            count: _0x59eea2,
            rows: _0x227459
        } = yield MessageZPRO_1[_0x1d82e(0xc2)][_0x1d82e(0xa3) + _0x1d82e(0xdb)]({
            'limit': _0x1ae380,
            'include': [
                _0x133e5b[_0x1d82e(0xd3)],
                {
                    'model': MessageZPRO_1[_0x1d82e(0xc2)],
                    'as': _0x133e5b[_0x1d82e(0xbf)],
                    'include': [_0x133e5b[_0x1d82e(0xd3)]]
                },
                _0x350c50
            ],
            'offset': _0x3c9216,
            'order': [[
                    _0x133e5b[_0x1d82e(0xa0)],
                    _0x133e5b[_0x1d82e(0xd5)]
                ]]
        });
        let _0x5e6b94 = [];
        if (_0x133e5b[_0x1d82e(0xeb)](+pageNumber, -0x25d * -0x2 + 0x1 * -0x95c + 0x4a3)) {
            const _0x9e5446 = {};
            _0x9e5446[_0x1d82e(0xe8)] = _0x103892;
            const _0x5b3f01 = {};
            _0x5b3f01[_0x1d82e(0xbc)] = _0x9e5446, _0x5b3f01[_0x1d82e(0xc5)] = [
                _0x133e5b[_0x1d82e(0xd3)],
                {
                    'model': MessageZPRO_1[_0x1d82e(0xc2)],
                    'as': _0x133e5b[_0x1d82e(0xbf)],
                    'include': [_0x133e5b[_0x1d82e(0xd3)]]
                }
            ], _0x5b3f01[_0x1d82e(0xd9)] = [[
                    _0x133e5b[_0x1d82e(0xa0)],
                    _0x133e5b[_0x1d82e(0xd5)]
                ]];
            const {rows: _0x4753c9} = yield MessageOffLineZPRO_1[_0x1d82e(0xc2)][_0x1d82e(0xa3) + _0x1d82e(0xdb)](_0x5b3f01);
            _0x5e6b94 = _0x4753c9;
        }
        const _0x40aa30 = _0x133e5b[_0x1d82e(0xa8)](_0x59eea2, _0x133e5b[_0x1d82e(0xa2)](_0x3c9216, _0x227459[_0x1d82e(0xbb)]));
        return {
            'messages': _0x227459[_0x1d82e(0xe3)](),
            'messagesOffLine': _0x5e6b94,
            'ticket': _0x3e92f4,
            'count': _0x59eea2,
            'hasMore': _0x40aa30
        };
    });
exports[_0x274dbb(0xc2)] = ListMessagesService;