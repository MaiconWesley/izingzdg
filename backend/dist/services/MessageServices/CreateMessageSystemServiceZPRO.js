'use strict';
const _0x141490 = _0x2638;
function _0x4173() {
    const _0x59cb97 = [
        'indexOf',
        'Body:\x20',
        'mPASA',
        'nbMYr',
        'protocol',
        'ZhEbW',
        'split',
        '5167212DtRmmW',
        'urlMessage',
        'getTime',
        'public',
        '__importDe',
        'stringify',
        '../../mode',
        'apiConfig',
        'templates',
        's/pupaZPRO',
        'KUPMm',
        'uHSqK',
        'gYoyP',
        'descriptio',
        '/QueueZPRO',
        'fault',
        '1644MCASID',
        'finish',
        'EmitZPRO',
        'where',
        'ierkA',
        'evaluation',
        's/loggerZP',
        ':\x20ERROR\x20DO',
        'authToken',
        'zJUoJ',
        'Status',
        'filename',
        'user',
        '../../util',
        'push',
        'ack',
        'QVqSS',
        'value',
        'SyuVW',
        'Cekyg',
        'PikYX',
        '1233aaLQPS',
        'UeitS',
        'mService',
        'path',
        'info',
        'rmdirSync',
        'include',
        'slice',
        'default',
        'response',
        'email',
        'footer',
        'trim',
        'API',
        'header',
        'myQhk',
        'HVJeQ',
        'chat',
        'TKsPz',
        'button2',
        'uuid',
        '23608KTlkYA',
        'endsWith',
        'HxMdj',
        '7827ZmOfal',
        'ThkOx',
        'cYBfr',
        'button_tex',
        'zHszQ',
        'data',
        'TWIFA',
        'extension',
        'button1',
        'oRSQY',
        'QlvHb',
        'xUBvv',
        'EsGtC',
        'qIcYC',
        'tion',
        'pupa',
        'LNmBW',
        'responseTy',
        'YQvYM',
        'Pzbia',
        'title',
        'create',
        'uhmDx',
        'all',
        'contactId',
        'axios',
        'fISuT',
        'rowDescrip',
        'mLQvJ',
        'NBWiJ',
        '1967tyfouy',
        'tenantId',
        'payload',
        'ZWHUn',
        'LeTtT',
        'jTvlm',
        'quotedMsg',
        'DoRmF',
        '2134316uqFkob',
        'transcript',
        'update',
        'externalKe',
        'logger',
        'mnQPv',
        '__esModule',
        'zupek',
        'dgrzQ',
        '../../libs',
        'headers',
        'dqahb',
        'mediaUrl',
        'chat:creat',
        'externalAp',
        'createWrit',
        'WebHooksAP',
        'fGbSy',
        '236030bwRNCS',
        'url',
        'WNLOAD',
        'ZODLK',
        'kHTbS',
        'eStatus',
        'eStream',
        '883835wGiJnv',
        'KtVlD',
        'qOeda',
        'HECpK',
        'notes',
        'messageId',
        'NG_MESSAGE',
        'WEjFR',
        'list',
        '184446KZrWtw',
        'forEach',
        'sMDFY',
        'assign',
        'findByPk',
        'YUsQm',
        'next',
        'Hllis',
        'model',
        'hookMessag',
        'erty',
        'xBHVj',
        'WAFii',
        ':::\x20Z-PRO\x20',
        'get',
        'ndWoF',
        'ERR_CREATI',
        'map',
        'name',
        'content-ty',
        'RfHCc',
        'error',
        ':::\x20ZDG\x20::',
        'type',
        'TAJYV',
        'zHJJt',
        '../../help',
        'ls/Message',
        'PRO',
        'lZzTe',
        'Ydszy',
        'body',
        'vWxnT',
        'IXSXy',
        'warn',
        '__awaiter',
        'mediaType',
        'media',
        ':\x20CreateMe',
        'ZPRO',
        'done',
        'rows',
        'kZMCg',
        'ers/socket',
        'row',
        'throw',
        'ticket',
        'apply',
        'replace',
        'sectionTit',
        'ssageSyste',
        'status',
        'rowTitle',
        'pipe',
        'originalna',
        'zEnRy',
        'then',
        'Btn',
        'sections',
        '_SYSTEM',
        'mime',
        'ls/TicketZ',
        'join',
        'message',
        'UejKO',
        'recursive',
        'button',
        'oCMiT',
        'ion',
        'add',
        'button3',
        'substr',
        'gpueJ',
        'mimetype',
        'AwOtm',
        'stream',
        'kanban',
        'uDhlP',
        'fromMe',
        'defineProp',
        'SOMik',
        'number',
        'contact'
    ];
    _0x4173 = function () {
        return _0x59cb97;
    };
    return _0x4173();
}
(function (_0x5619bf, _0x2e9b70) {
    const _0x1aeba9 = _0x2638, _0x427c88 = _0x5619bf();
    while (!![]) {
        try {
            const _0x59d805 = parseInt(_0x1aeba9(0x94)) / (0x1685 + 0x5a7 + 0x1 * -0x1c2b) + parseInt(_0x1aeba9(0x151)) / (-0x1a61 * -0x1 + 0x245f + -0x3ebe) + parseInt(_0x1aeba9(0x12b)) / (0x41 * -0xc + 0x23d5 + -0x20c6) * (parseInt(_0x1aeba9(0xfe)) / (-0x2565 * 0x1 + 0x197d + 0x2 * 0x5f6)) + -parseInt(_0x1aeba9(0x8b)) / (-0x240c + -0x2665 + 0x36 * 0x161) + parseInt(_0x1aeba9(0xee)) / (0x21db + 0x15f6 + -0x37cb) + -parseInt(_0x1aeba9(0x149)) / (-0x4 * -0xef + 0x410 + -0x7c5) * (-parseInt(_0x1aeba9(0x128)) / (-0x2d * -0x36 + -0x1fb6 + 0x8 * 0x2c8)) + -parseInt(_0x1aeba9(0x113)) / (0xb55 + -0x5 * 0x4ff + 0x1f * 0x71) * (parseInt(_0x1aeba9(0x84)) / (0xdde * -0x2 + 0x2 * 0x6cd + 0xe2c));
            if (_0x59d805 === _0x2e9b70)
                break;
            else
                _0x427c88['push'](_0x427c88['shift']());
        } catch (_0x27679b) {
            _0x427c88['push'](_0x427c88['shift']());
        }
    }
}(_0x4173, -0x160f * -0x72 + 0xc75c1 * -0x1 + -0x1 * -0xbda49));
function _0x2638(_0x5a0af3, _0xbf284e) {
    const _0x2f3749 = _0x4173();
    return _0x2638 = function (_0x9e8806, _0x298c52) {
        _0x9e8806 = _0x9e8806 - (-0x1 * -0x84a + 0x3d * -0x2b + 0x45 * 0x9);
        let _0x459b3b = _0x2f3749[_0x9e8806];
        return _0x459b3b;
    }, _0x2638(_0x5a0af3, _0xbf284e);
}
var __awaiter = this && this[_0x141490(0xb7)] || function (_0x26bb3d, _0x3f00e9, _0x23f6d1, _0x5ae9c3) {
        const _0x59ab44 = _0x141490, _0x29b734 = {
                'SOMik': function (_0x505865, _0x2c93a0) {
                    return _0x505865(_0x2c93a0);
                },
                'QlvHb': function (_0x5229ff, _0x25fde0) {
                    return _0x5229ff instanceof _0x25fde0;
                },
                'Pzbia': function (_0x1cf56c, _0x321035) {
                    return _0x1cf56c(_0x321035);
                },
                'TWIFA': function (_0x877846, _0x2b1216) {
                    return _0x877846(_0x2b1216);
                },
                'AwOtm': function (_0x128768, _0x328bb5) {
                    return _0x128768(_0x328bb5);
                },
                'zHszQ': _0x59ab44(0xc1),
                'LNmBW': function (_0x593b78, _0x16989d) {
                    return _0x593b78(_0x16989d);
                },
                'KUPMm': function (_0x6029e3, _0x1c3b99) {
                    return _0x6029e3(_0x1c3b99);
                }
            };
        function _0x46ea07(_0x36ab66) {
            const _0x52153b = _0x59ab44, _0x4e7444 = {
                    'myQhk': function (_0x188e70, _0xf1499d) {
                        const _0x42a277 = _0x2638;
                        return _0x29b734[_0x42a277(0xe4)](_0x188e70, _0xf1499d);
                    }
                };
            return _0x29b734[_0x52153b(0x135)](_0x36ab66, _0x23f6d1) ? _0x36ab66 : new _0x23f6d1(function (_0x4b1239) {
                const _0xb7205 = _0x52153b;
                _0x4e7444[_0xb7205(0x122)](_0x4b1239, _0x36ab66);
            });
        }
        return new (_0x23f6d1 || (_0x23f6d1 = Promise))(function (_0x5580e2, _0x594289) {
            const _0x10d894 = _0x59ab44, _0x54cd20 = {
                    'ierkA': function (_0x2e02b5, _0x107683) {
                        const _0x1dff1d = _0x2638;
                        return _0x29b734[_0x1dff1d(0xde)](_0x2e02b5, _0x107683);
                    },
                    'ZWHUn': _0x29b734[_0x10d894(0x12f)],
                    'lZzTe': function (_0x37ad9e, _0x4656f8) {
                        const _0x34d4f5 = _0x10d894;
                        return _0x29b734[_0x34d4f5(0x13b)](_0x37ad9e, _0x4656f8);
                    }
                };
            function _0x336c43(_0x44ecd1) {
                const _0x36d188 = _0x10d894;
                try {
                    _0x54cd20[_0x36d188(0x102)](_0x2caad4, _0x5ae9c3[_0x36d188(0x9a)](_0x44ecd1));
                } catch (_0x236209) {
                    _0x54cd20[_0x36d188(0x102)](_0x594289, _0x236209);
                }
            }
            function _0xefa4b9(_0x22fd20) {
                const _0x3f6908 = _0x10d894;
                try {
                    _0x54cd20[_0x3f6908(0x102)](_0x2caad4, _0x5ae9c3[_0x54cd20[_0x3f6908(0x14c)]](_0x22fd20));
                } catch (_0x47799a) {
                    _0x54cd20[_0x3f6908(0xb1)](_0x594289, _0x47799a);
                }
            }
            function _0x2caad4(_0x9bb591) {
                const _0x442332 = _0x10d894;
                _0x9bb591[_0x442332(0xbc)] ? _0x29b734[_0x442332(0x13e)](_0x5580e2, _0x9bb591[_0x442332(0x10f)]) : _0x29b734[_0x442332(0x131)](_0x46ea07, _0x9bb591[_0x442332(0x10f)])[_0x442332(0xcc)](_0x336c43, _0xefa4b9);
            }
            _0x29b734[_0x10d894(0xf8)](_0x2caad4, (_0x5ae9c3 = _0x5ae9c3[_0x10d894(0xc3)](_0x26bb3d, _0x3f00e9 || []))[_0x10d894(0x9a)]());
        });
    }, __importDefault = this && this[_0x141490(0xf2) + _0x141490(0xfd)] || function (_0x496191) {
        const _0x554e48 = _0x141490;
        return _0x496191 && _0x496191[_0x554e48(0x78)] ? _0x496191 : { 'default': _0x496191 };
    };
const _0x30ea9b = {};
_0x30ea9b[_0x141490(0x10f)] = !![], Object[_0x141490(0xe3) + _0x141490(0x9e)](exports, _0x141490(0x78), _0x30ea9b);
const fs_1 = __importDefault(require('fs')), path_1 = require(_0x141490(0x116)), axios_1 = __importDefault(require(_0x141490(0x144))), mime_1 = __importDefault(require(_0x141490(0xd0))), uuid_1 = require(_0x141490(0x127)), loggerZPRO_1 = require(_0x141490(0x10b) + _0x141490(0x104) + 'RO'), TicketZPRO_1 = __importDefault(require(_0x141490(0xf4) + _0x141490(0xd1) + _0x141490(0xb0))), MessageZPRO_1 = __importDefault(require(_0x141490(0xf4) + _0x141490(0xaf) + _0x141490(0xbb))), socketEmitZPRO_1 = __importDefault(require(_0x141490(0xae) + _0x141490(0xbf) + _0x141490(0x100))), QueueZPRO_1 = __importDefault(require(_0x141490(0x7b) + _0x141490(0xfc))), pupaZPRO_1 = require(_0x141490(0x10b) + _0x141490(0xf7)), downloadMedia = _0x1466e4 => __awaiter(void (-0x39 * 0x6d + -0xfe1 + 0x2826), void (-0x33 * 0x7d + 0x1677 + 0x270), void (-0x4d4 + -0x147b + 0x1 * 0x194f), function* () {
        const _0x41fb8b = _0x141490, _0x533737 = {
                'UejKO': function (_0x11ea50, _0x1a5882) {
                    return _0x11ea50(_0x1a5882);
                },
                'Ydszy': _0x41fb8b(0xa1) + _0x41fb8b(0xaa) + _0x41fb8b(0x105) + _0x41fb8b(0x86),
                'sMDFY': _0x41fb8b(0xff),
                'WAFii': _0x41fb8b(0xa9),
                'zHJJt': _0x41fb8b(0xdf),
                'gpueJ': _0x41fb8b(0xa7) + 'pe',
                'ndWoF': _0x41fb8b(0xf1),
                'YQvYM': function (_0x4dffe0, _0x37efea) {
                    return _0x4dffe0 === _0x37efea;
                },
                'Cekyg': _0x41fb8b(0x9d) + _0x41fb8b(0x89),
                'HVJeQ': function (_0x1c9529, _0x534d30) {
                    return _0x1c9529 === _0x534d30;
                },
                'dqahb': _0x41fb8b(0x82) + 'I'
            };
        var _0x43df64;
        try {
            const _0x3ea901 = {};
            _0x3ea901[_0x41fb8b(0x13c) + 'pe'] = _0x533737[_0x41fb8b(0xad)];
            const _0x171067 = yield axios_1[_0x41fb8b(0x11b)][_0x41fb8b(0xa2)](_0x1466e4[_0x41fb8b(0x7e)], _0x3ea901), _0x460bb2 = _0x171067[_0x41fb8b(0x7c)][_0x533737[_0x41fb8b(0xdc)]], _0x4ee994 = mime_1[_0x41fb8b(0x11b)], _0x126579 = _0x4ee994[_0x41fb8b(0x132)](_0x460bb2), _0x3f2b6f = (-0x1278 + -0x692 + -0x190a * -0x1, uuid_1['v4'])(), _0x226aa3 = (-0x17ff + 0x6b3 + 0x114c, path_1[_0x41fb8b(0xd2)])(__dirname, '..', '..', '..', _0x533737[_0x41fb8b(0xa3)]), _0x31519e = _0x3f2b6f + '.' + _0x126579, _0x11782a = (0x1 * 0x917 + -0x2 * 0x596 + 0x215, path_1[_0x41fb8b(0xd2)])(_0x226aa3, _0x31519e), _0x541dad = {};
            _0x541dad[_0x41fb8b(0xca) + 'me'] = _0x31519e, _0x541dad[_0x41fb8b(0x109)] = _0x31519e, _0x541dad[_0x41fb8b(0xb8)] = _0x126579;
            const _0x47aabe = _0x541dad;
            return yield new Promise((_0x36f188, _0x15b443) => {
                const _0x28adc2 = _0x41fb8b;
                _0x171067[_0x28adc2(0x130)][_0x28adc2(0xc9)](fs_1[_0x28adc2(0x11b)][_0x28adc2(0x81) + _0x28adc2(0x8a)](_0x11782a))['on'](_0x533737[_0x28adc2(0x96)], () => __awaiter(void (0x1 * -0xd87 + -0x43 * -0x31 + 0x5a * 0x2), void (-0xf08 + -0x7 * 0x3ae + 0x28ca), void (-0x12f7 + 0x131a + -0x23), function* () {
                    const _0x5064aa = _0x28adc2;
                    _0x533737[_0x5064aa(0xd4)](_0x36f188, _0x47aabe);
                }))['on'](_0x533737[_0x28adc2(0xa0)], _0x324756 => {
                    const _0x3425a5 = _0x28adc2;
                    loggerZPRO_1[_0x3425a5(0x155)][_0x3425a5(0xb6)](_0x533737[_0x3425a5(0xb2)], _0x324756);
                    const _0xd5cd96 = {};
                    _0xd5cd96[_0x3425a5(0xd5)] = !![], fs_1[_0x3425a5(0x11b)][_0x3425a5(0x118)](_0x11782a, _0xd5cd96), _0x533737[_0x3425a5(0xd4)](_0x15b443, new Error(_0x324756));
                });
            }), _0x47aabe;
        } catch (_0x556c6f) {
            if (_0x533737[_0x41fb8b(0x13d)](_0x556c6f[_0x41fb8b(0x11c)][_0x41fb8b(0xc7)], 0x1 * 0x1d02 + -0xa7 * 0x6 + -0x1784)) {
                const _0x4300d5 = {};
                _0x4300d5[_0x41fb8b(0x10d)] = -(-0x1 * 0x17fe + 0x110a * -0x1 + -0x5 * -0x835), _0x4300d5[_0x41fb8b(0xb3)] = _0x1466e4[_0x41fb8b(0xb3)], _0x4300d5[_0x41fb8b(0x90)] = '', _0x4300d5[_0x41fb8b(0xe5)] = _0x1466e4[_0x41fb8b(0xe5)], _0x4300d5[_0x41fb8b(0x154) + 'y'] = _0x1466e4[_0x41fb8b(0x154) + 'y'], _0x4300d5[_0x41fb8b(0xa9)] = _0x556c6f[_0x41fb8b(0xd3)], _0x4300d5[_0x41fb8b(0x106)] = _0x1466e4[_0x41fb8b(0xf5)][_0x41fb8b(0x106)], _0x4300d5[_0x41fb8b(0xab)] = _0x533737[_0x41fb8b(0x111)];
                const _0x2ed6b5 = _0x4300d5;
                if (_0x533737[_0x41fb8b(0x13d)](_0x43df64 = _0x533737[_0x41fb8b(0x13d)](_0x1466e4, null) || _0x533737[_0x41fb8b(0x13d)](_0x1466e4, void (-0x1 * -0x154a + 0x600 * -0x2 + -0x94a)) ? void (0xc68 + -0x513 * -0x2 + -0x168e) : _0x1466e4[_0x41fb8b(0xf5)], null) || _0x533737[_0x41fb8b(0x123)](_0x43df64, void (-0xe67 + -0x10a1 + 0x1f08)) ? void (0xeef * 0x1 + -0xa85 + -0x46a) : _0x43df64[_0x41fb8b(0xef) + _0x41fb8b(0x108)]) {
                    const _0x4a7207 = {};
                    _0x4a7207[_0x41fb8b(0x85)] = _0x1466e4[_0x41fb8b(0xf5)][_0x41fb8b(0xef) + _0x41fb8b(0x108)], _0x4a7207[_0x41fb8b(0xab)] = _0x2ed6b5[_0x41fb8b(0xab)], _0x4a7207[_0x41fb8b(0x14b)] = _0x2ed6b5, QueueZPRO_1[_0x41fb8b(0x11b)][_0x41fb8b(0xd9)](_0x533737[_0x41fb8b(0x7d)], _0x4a7207);
                }
                return {};
            }
            throw new Error(_0x556c6f);
        }
    });
function formatarMensagem(_0x58da0e) {
    const _0x13f250 = _0x141490, _0xdf2a77 = {};
    _0xdf2a77[_0x13f250(0x12c)] = function (_0x2b75b4, _0x42516b) {
        return _0x2b75b4 + _0x42516b;
    }, _0xdf2a77[_0x13f250(0xe9)] = function (_0x105312, _0x54fdca) {
        return _0x105312 > _0x54fdca;
    }, _0xdf2a77[_0x13f250(0x145)] = _0x13f250(0x133), _0xdf2a77[_0x13f250(0x8d)] = _0x13f250(0x126), _0xdf2a77[_0x13f250(0x147)] = _0x13f250(0xda);
    const _0x411802 = _0xdf2a77;
    let _0x1e5ff3 = '';
    if (_0x58da0e[_0x13f250(0xb3)]) {
        const _0x3c9df0 = _0x58da0e[_0x13f250(0xb3)][_0x13f250(0xc4)](/\n/g, '\x20')[_0x13f250(0x11f)](), _0x3e7699 = _0x3c9df0[_0x13f250(0xe7)](','), _0x270e08 = _0x411802[_0x13f250(0xe9)](_0x3e7699, -(0x1d23 + 0x10a4 + -0x2dc6)) ? _0x3c9df0[_0x13f250(0x11a)](-0x6d * -0x4d + -0x140e + -0xcbb, _0x3e7699) : _0x3c9df0;
        _0x1e5ff3 += _0x13f250(0xe8) + _0x270e08 + ',\x20';
    }
    const _0x2cc2d4 = [
        _0x411802[_0x13f250(0x145)],
        _0x411802[_0x13f250(0x8d)],
        _0x411802[_0x13f250(0x147)]
    ];
    return _0x2cc2d4[_0x13f250(0x95)]((_0x588597, _0x5a8366) => {
        const _0x45cbd6 = _0x13f250;
        _0x58da0e[_0x588597] && (_0x1e5ff3 += _0x45cbd6(0xcd) + _0x411802[_0x45cbd6(0x12c)](_0x5a8366, -0x3 * 0x391 + -0x11db + 0x1c8f) + ':\x20' + _0x58da0e[_0x588597] + ',\x20');
    }), _0x1e5ff3[_0x13f250(0x129)](',\x20') && (_0x1e5ff3 = _0x1e5ff3[_0x13f250(0x11a)](-0x5af + 0x1240 + -0xc91, -(0x543 + 0xf96 + -0x14d7))), _0x1e5ff3;
}
const CreateMessageSystemService = ({
    msg: _0xe03b1f,
    tenantId: _0xef021,
    medias: _0x514805,
    ticket: _0x1cb9b6,
    userId: _0xbf9d4,
    scheduleDate: _0x5cabaa,
    sendType: _0x19c935,
    status: _0x45d738,
    idFront: _0x1b238c,
    reaction: _0x5b2c0b,
    isSticker: _0x2d19ab,
    templateName: _0x1a730d,
    templateLanguage: _0x28f7e4,
    button1: _0x4a78c0,
    button2: _0x54e39,
    button3: _0xd7146d,
    header: _0x455eee,
    footer: _0x2ccb04,
    button_text: _0x30fc25,
    sections: _0x500094,
    sectionTitle: _0x91ac14
}) => __awaiter(void (0x89 * 0x3b + 0x1 * 0xc87 + -0x2c1a), void (0x12c7 + -0x6df + -0x8 * 0x17d), void (-0x718 + 0x6 * -0x62f + -0x1 * -0x2c32), function* () {
    const _0x125c28 = _0x141490, _0x55719c = {
            'EsGtC': _0x125c28(0xc2),
            'uDhlP': _0x125c28(0xe6),
            'IXSXy': _0x125c28(0x14f),
            'WEjFR': _0x125c28(0xa4) + _0x125c28(0x91) + _0x125c28(0xcf),
            'TKsPz': _0x125c28(0x7f) + 'e',
            'KtVlD': function (_0x2a588e, _0x30972c) {
                return _0x2a588e === _0x30972c;
            },
            'xUBvv': _0x125c28(0x120),
            'uhmDx': function (_0x493f3f, _0x55c4bd) {
                return _0x493f3f === _0x55c4bd;
            },
            'NBWiJ': function (_0x2da0cb, _0x4374aa) {
                return _0x2da0cb === _0x4374aa;
            },
            'xBHVj': _0x125c28(0x124),
            'LeTtT': function (_0x5c7b54, _0xa81e99) {
                return _0x5c7b54 === _0xa81e99;
            },
            'RfHCc': function (_0x192eda, _0x40972c) {
                return _0x192eda === _0x40972c;
            },
            'QVqSS': function (_0x5c55d7, _0x4582f7) {
                return _0x5c55d7 === _0x4582f7;
            },
            'SyuVW': function (_0x19a421, _0x4bc53a) {
                return _0x19a421 === _0x4bc53a;
            },
            'gYoyP': function (_0xb97541, _0x336927) {
                return _0xb97541 === _0x336927;
            },
            'oCMiT': function (_0x2ba9a4, _0x201593) {
                return _0x2ba9a4 === _0x201593;
            },
            'DoRmF': function (_0x13c550, _0x4eb881) {
                return _0x13c550 === _0x4eb881;
            },
            'mnQPv': function (_0x4555c1, _0x49660c) {
                return _0x4555c1 === _0x49660c;
            },
            'PikYX': function (_0x1ee013, _0x39f766) {
                return _0x1ee013 === _0x39f766;
            },
            'Hllis': function (_0x46a275, _0x5d85bf) {
                return _0x46a275 === _0x5d85bf;
            },
            'kZMCg': function (_0x31b106, _0x15a43) {
                return _0x31b106 === _0x15a43;
            },
            'oRSQY': function (_0x223edd, _0x28ade2) {
                return _0x223edd === _0x28ade2;
            },
            'TAJYV': function (_0x2994e0, _0x2c0f57) {
                return _0x2994e0 === _0x2c0f57;
            },
            'HxMdj': function (_0xaa0b0, _0x13ffea) {
                return _0xaa0b0 === _0x13ffea;
            },
            'zupek': function (_0x34f2a1, _0x53add4) {
                return _0x34f2a1 === _0x53add4;
            },
            'cYBfr': function (_0x195753, _0x37eadb) {
                return _0x195753 === _0x37eadb;
            },
            'qIcYC': function (_0x4cfacc, _0x16f448) {
                return _0x4cfacc === _0x16f448;
            },
            'UeitS': function (_0x5d04cb, _0x230e1b) {
                return _0x5d04cb === _0x230e1b;
            },
            'zEnRy': function (_0x349a6d, _0x2f0b29) {
                return _0x349a6d(_0x2f0b29);
            },
            'kHTbS': function (_0x2046dc, _0x5e2221) {
                return _0x2046dc === _0x5e2221;
            },
            'dgrzQ': _0x125c28(0x80) + 'i',
            'ZhEbW': _0x125c28(0x8f),
            'uHSqK': _0x125c28(0x103),
            'zJUoJ': _0x125c28(0x152) + _0x125c28(0xd8),
            'HECpK': _0x125c28(0xf6),
            'nbMYr': function (_0x3dbd31, _0x3a3fba) {
                return _0x3dbd31 === _0x3a3fba;
            },
            'jTvlm': _0x125c28(0xd6),
            'YUsQm': _0x125c28(0x93),
            'ZODLK': function (_0x30376f, _0x86160) {
                return _0x30376f <= _0x86160;
            },
            'vWxnT': function (_0x3dab40, _0x445301) {
                return _0x3dab40 && _0x445301;
            },
            'fGbSy': _0x125c28(0xa1) + _0x125c28(0xaa) + _0x125c28(0xba) + _0x125c28(0xc6) + _0x125c28(0x115)
        };
    var _0x29c69c, _0x23f589, _0x3783a8, _0x19de11, _0x8cc1dd, _0xfc51f8, _0x190e3f;
    const _0x5176bc = {
        'ticketId': _0x1cb9b6['id'],
        'body': _0xe03b1f[_0x125c28(0xb3)],
        'contactId': _0x1cb9b6[_0x125c28(0x143)],
        'fromMe': _0x55719c[_0x125c28(0x8c)](_0x19c935, _0x55719c[_0x125c28(0x136)]) ? !![] : _0x55719c[_0x125c28(0x141)](_0xe03b1f, null) || _0x55719c[_0x125c28(0x148)](_0xe03b1f, void (-0x14ba + -0x2c * -0xa5 + -0x7a2)) ? void (0x1708 + -0x873 + -0xe95) : _0xe03b1f[_0x125c28(0xe2)],
        'read': !![],
        'mediaType': _0x55719c[_0x125c28(0x9f)],
        'mediaUrl': undefined,
        'timestamp': new Date()[_0x125c28(0xf0)](),
        'quotedMsgId': _0x55719c[_0x125c28(0x148)](_0x29c69c = _0x55719c[_0x125c28(0x8c)](_0xe03b1f, null) || _0x55719c[_0x125c28(0x8c)](_0xe03b1f, void (-0xa8a + -0x5 * -0x4c + 0x3d * 0x26)) ? void (-0x22f0 + -0x23ff + -0x17a5 * -0x3) : _0xe03b1f[_0x125c28(0x14f)], null) || _0x55719c[_0x125c28(0x14d)](_0x29c69c, void (-0x23 * -0xe2 + 0x3 * 0x975 + -0x1 * 0x3b45)) ? void (-0x1 * -0x724 + -0x3a3 * 0x3 + 0x5 * 0xc1) : _0x29c69c['id'],
        'userId': _0xbf9d4,
        'scheduleDate': _0x5cabaa,
        'sendType': _0x19c935,
        'status': _0x45d738,
        'tenantId': _0xef021,
        'idFront': _0x1b238c,
        'reaction': _0x5b2c0b,
        'isSticker': _0x2d19ab,
        'templateName': _0x1a730d,
        'templateLanguage': _0x28f7e4,
        'button1': _0x4a78c0,
        'button2': _0x54e39,
        'button3': _0xd7146d,
        'header': _0x455eee,
        'footer': _0x2ccb04,
        'button_text': _0x30fc25,
        'sections': _0x500094,
        'sectionTitle': _0x91ac14
    };
    try {
        _0x5176bc[_0x125c28(0xb3)] = (-0xac1 + 0x269 * -0x7 + -0xd * -0x220, pupaZPRO_1[_0x125c28(0x13a)])(_0xe03b1f[_0x125c28(0xb3)] || '', {
            'protocol': (_0x55719c[_0x125c28(0xa8)](_0x1cb9b6, null) || _0x55719c[_0x125c28(0x148)](_0x1cb9b6, void (0x234d + -0x2ca * -0x2 + -0x28e1)) ? void (0x1 * -0xfd9 + -0x305 * 0x9 + 0x2b06) : _0x1cb9b6[_0x125c28(0xeb)]) || '',
            'name': (_0x55719c[_0x125c28(0x148)](_0x23f589 = _0x55719c[_0x125c28(0x10e)](_0x1cb9b6, null) || _0x55719c[_0x125c28(0x141)](_0x1cb9b6, void (-0x1fde + -0x1270 + -0x5e * -0x89)) ? void (0x10 * -0x72 + -0x1251 + 0x1971) : _0x1cb9b6[_0x125c28(0xe6)], null) || _0x55719c[_0x125c28(0x110)](_0x23f589, void (-0x20 * -0x22 + -0x1a69 + 0x1629)) ? void (0x79 * 0x3b + 0x14f9 + -0x30dc) : _0x23f589[_0x125c28(0xa6)]) || '',
            'email': (_0x55719c[_0x125c28(0xa8)](_0x3783a8 = _0x55719c[_0x125c28(0xfa)](_0x1cb9b6, null) || _0x55719c[_0x125c28(0xd7)](_0x1cb9b6, void (-0x5 * 0x745 + 0x29 * 0x5c + 0x159d)) ? void (0xaba * -0x2 + 0x5a1 + 0xfd3 * 0x1) : _0x1cb9b6[_0x125c28(0xe6)], null) || _0x55719c[_0x125c28(0x150)](_0x3783a8, void (-0x1 * 0x766 + 0x247e + -0x1d18)) ? void (-0xde * -0x22 + 0x1ec9 + 0x1 * -0x3c45) : _0x3783a8[_0x125c28(0x11d)]) || '',
            'phoneNumber': (_0x55719c[_0x125c28(0x156)](_0x19de11 = _0x55719c[_0x125c28(0x112)](_0x1cb9b6, null) || _0x55719c[_0x125c28(0x9b)](_0x1cb9b6, void (-0x3 * 0xcfb + 0xa * 0x187 + 0x17ab)) ? void (-0x1ce + -0x1 * 0x1ccd + 0x1e9b) : _0x1cb9b6[_0x125c28(0xe6)], null) || _0x55719c[_0x125c28(0xbe)](_0x19de11, void (-0x246 * 0x11 + -0xf2 * -0x1 + -0x2 * -0x12da)) ? void (-0x55d * -0x4 + 0x16d7 + -0x2c4b) : _0x19de11[_0x125c28(0xe5)]) || '',
            'kanban': (_0x55719c[_0x125c28(0x134)](_0x8cc1dd = _0x55719c[_0x125c28(0xac)](_0x1cb9b6, null) || _0x55719c[_0x125c28(0x12a)](_0x1cb9b6, void (-0x697 + -0x8dd + 0x56 * 0x2e)) ? void (0xd9f + -0x1257 + -0x2 * -0x25c) : _0x1cb9b6[_0x125c28(0xe6)], null) || _0x55719c[_0x125c28(0x9b)](_0x8cc1dd, void (0x709 * 0x4 + 0xb07 + -0x272b)) ? void (-0x66e + 0x1 * 0x872 + -0x204) : _0x8cc1dd[_0x125c28(0xe0)]) || '',
            'user': (_0x55719c[_0x125c28(0x79)](_0xfc51f8 = _0x55719c[_0x125c28(0xac)](_0x1cb9b6, null) || _0x55719c[_0x125c28(0x9b)](_0x1cb9b6, void (-0xdc1 * 0x1 + -0x6db * -0x4 + -0xdab)) ? void (0x1a75 * 0x1 + 0x1 * 0x1b8e + -0x3603) : _0x1cb9b6[_0x125c28(0x10a)], null) || _0x55719c[_0x125c28(0x12d)](_0xfc51f8, void (0x26b2 + -0x2 * -0x104a + -0x4746)) ? void (0x75 * -0x43 + -0x75 * 0x31 + 0x1a82 * 0x2) : _0xfc51f8[_0x125c28(0xa6)]) || '',
            'userEmail': (_0x55719c[_0x125c28(0x134)](_0x190e3f = _0x55719c[_0x125c28(0x12d)](_0x1cb9b6, null) || _0x55719c[_0x125c28(0x138)](_0x1cb9b6, void (0x1f93 + -0x1bd4 + -0x3bf)) ? void (0x354 + -0x8df + 0x58b) : _0x1cb9b6[_0x125c28(0x10a)], null) || _0x55719c[_0x125c28(0x114)](_0x190e3f, void (0x24e5 + -0x49b + -0x1 * 0x204a)) ? void (0x1e87 + 0x3 * -0x8cd + -0x420) : _0x190e3f[_0x125c28(0x11d)]) || ''
        });
        if (_0x55719c[_0x125c28(0x9b)](_0x19c935, _0x55719c[_0x125c28(0x136)]) && _0xe03b1f[_0x125c28(0x7e)]) {
            _0x514805 = [];
            const _0x1fbbe7 = yield _0x55719c[_0x125c28(0xcb)](downloadMedia, _0xe03b1f);
            _0x514805[_0x125c28(0x10c)](_0x1fbbe7);
        }
        _0x55719c[_0x125c28(0x141)](_0x19c935, _0x55719c[_0x125c28(0x136)]) && !_0xe03b1f[_0x125c28(0x7e)] && _0xe03b1f[_0x125c28(0xb9)] && (_0x514805 = [], _0x514805[_0x125c28(0x10c)](_0xe03b1f[_0x125c28(0xb9)]));
        if (_0x514805)
            yield Promise[_0x125c28(0x142)](_0x514805[_0x125c28(0xa5)](_0x39645e => __awaiter(void (0x1 * -0x409 + 0x1 * 0x1014 + -0xc0b), void (0x1074 + 0x1 * -0x1f49 + 0xed5), void (0xe7d + 0x5 * 0x599 + -0x153d * 0x2), function* () {
                const _0x13d0f4 = _0x125c28;
                try {
                    if (!_0x39645e[_0x13d0f4(0x109)]) {
                        const _0x52338b = _0x39645e[_0x13d0f4(0xdd)][_0x13d0f4(0xed)]('/')[-0x1 * 0xfcc + 0x1609 * -0x1 + 0x14e * 0x1d][_0x13d0f4(0xed)](';')[0xcca + 0x1 * 0x35b + 0x1 * -0x1025];
                        _0x39645e[_0x13d0f4(0x109)] = new Date()[_0x13d0f4(0xf0)]() + '.' + _0x52338b;
                    }
                } catch (_0xbce381) {
                    loggerZPRO_1[_0x13d0f4(0x155)][_0x13d0f4(0xa9)](_0xbce381);
                }
                const _0xa5478f = Object[_0x13d0f4(0x97)](Object[_0x13d0f4(0x97)]({}, _0x5176bc), {
                        'body': _0x39645e[_0x13d0f4(0xca) + 'me'],
                        'mediaUrl': _0x39645e[_0x13d0f4(0x109)],
                        'mediaType': _0x39645e[_0x13d0f4(0xb8)] || _0x39645e[_0x13d0f4(0xdd)][_0x13d0f4(0xdb)](0x4 * 0x178 + -0x1 * -0x15c9 + -0x1ba9, _0x39645e[_0x13d0f4(0xdd)][_0x13d0f4(0xe7)]('/'))
                    }), _0x162dc1 = yield MessageZPRO_1[_0x13d0f4(0x11b)][_0x13d0f4(0x140)](_0xa5478f), _0x5d7a21 = {};
                _0x5d7a21[_0x13d0f4(0x14a)] = _0xef021;
                const _0x2bd5e1 = {};
                _0x2bd5e1[_0x13d0f4(0x9c)] = TicketZPRO_1[_0x13d0f4(0x11b)], _0x2bd5e1['as'] = _0x55719c[_0x13d0f4(0x137)], _0x2bd5e1[_0x13d0f4(0x101)] = _0x5d7a21, _0x2bd5e1[_0x13d0f4(0x119)] = [_0x55719c[_0x13d0f4(0xe1)]];
                const _0x73c808 = yield MessageZPRO_1[_0x13d0f4(0x11b)][_0x13d0f4(0x98)](_0x162dc1['id'], {
                    'include': [
                        _0x2bd5e1,
                        {
                            'model': MessageZPRO_1[_0x13d0f4(0x11b)],
                            'as': _0x55719c[_0x13d0f4(0xb5)],
                            'include': [_0x55719c[_0x13d0f4(0xe1)]]
                        }
                    ]
                });
                if (!_0x73c808)
                    throw new Error(_0x55719c[_0x13d0f4(0x92)]);
                yield _0x1cb9b6[_0x13d0f4(0x153)]({
                    'lastMessage': _0x73c808[_0x13d0f4(0xb3)],
                    'lastMessageAt': new Date()[_0x13d0f4(0xf0)]()
                });
                const _0x577561 = {};
                _0x577561[_0x13d0f4(0x14a)] = _0xef021, _0x577561[_0x13d0f4(0xab)] = _0x55719c[_0x13d0f4(0x125)], _0x577561[_0x13d0f4(0x14b)] = _0x73c808, (0x23f6 + 0xb * -0xe5 + 0x8b5 * -0x3, socketEmitZPRO_1[_0x13d0f4(0x11b)])(_0x577561);
            })));
        else {
            const _0x3140b7 = {};
            _0x3140b7[_0x125c28(0xb8)] = _0x55719c[_0x125c28(0x9f)];
            const _0x2c2ad8 = yield MessageZPRO_1[_0x125c28(0x11b)][_0x125c28(0x140)](Object[_0x125c28(0x97)](Object[_0x125c28(0x97)]({}, _0x5176bc), _0x3140b7)), _0x30c1e8 = {};
            _0x30c1e8[_0x125c28(0x14a)] = _0xef021;
            const _0x27358f = {};
            _0x27358f[_0x125c28(0x9c)] = TicketZPRO_1[_0x125c28(0x11b)], _0x27358f['as'] = _0x55719c[_0x125c28(0x137)], _0x27358f[_0x125c28(0x101)] = _0x30c1e8, _0x27358f[_0x125c28(0x119)] = [_0x55719c[_0x125c28(0xe1)]];
            const _0xabec96 = yield MessageZPRO_1[_0x125c28(0x11b)][_0x125c28(0x98)](_0x2c2ad8['id'], {
                'include': [
                    _0x27358f,
                    {
                        'model': MessageZPRO_1[_0x125c28(0x11b)],
                        'as': _0x55719c[_0x125c28(0xb5)],
                        'include': [_0x55719c[_0x125c28(0xe1)]]
                    }
                ]
            });
            if (!_0xabec96)
                throw new Error(_0x55719c[_0x125c28(0x92)]);
            yield _0x1cb9b6[_0x125c28(0x153)]({
                'lastMessage': _0xabec96[_0x125c28(0xb3)],
                'lastMessageAt': new Date()[_0x125c28(0xf0)](),
                'answered': !![]
            });
            if (_0x55719c[_0x125c28(0x88)](_0x19c935, _0x55719c[_0x125c28(0x7a)])) {
                const _0xe53d2a = {};
                _0xe53d2a[_0x125c28(0x10d)] = 0x2, yield _0xabec96[_0x125c28(0x153)](_0xe53d2a);
            }
            if (_0x55719c[_0x125c28(0xac)](_0x19c935, _0x55719c[_0x125c28(0xec)])) {
                const _0x54329e = {};
                _0x54329e[_0x125c28(0x10d)] = 0x2, _0x54329e[_0x125c28(0xb8)] = _0x55719c[_0x125c28(0xec)], yield _0xabec96[_0x125c28(0x153)](_0x54329e);
            }
            if (_0x55719c[_0x125c28(0x112)](_0x19c935, _0x55719c[_0x125c28(0xf9)])) {
                const _0x30c2e1 = {};
                _0x30c2e1[_0x125c28(0x10d)] = 0x2, yield _0xabec96[_0x125c28(0x153)](_0x30c2e1);
            }
            if (_0x55719c[_0x125c28(0x150)](_0x19c935, _0x55719c[_0x125c28(0x107)])) {
                const _0x6f8e38 = {};
                _0x6f8e38[_0x125c28(0x10d)] = 0x2, _0x6f8e38[_0x125c28(0xb8)] = _0x55719c[_0x125c28(0x107)], yield _0xabec96[_0x125c28(0x153)](_0x6f8e38);
            }
            if (_0x55719c[_0x125c28(0x79)](_0x19c935, _0x55719c[_0x125c28(0x8e)])) {
                const _0xd58471 = {};
                _0xd58471[_0x125c28(0xb8)] = _0x55719c[_0x125c28(0x8e)], yield _0xabec96[_0x125c28(0x153)](_0xd58471);
            }
            _0x55719c[_0x125c28(0xea)](_0x19c935, _0x55719c[_0x125c28(0x14e)]) && (yield _0xabec96[_0x125c28(0x153)]({
                'body': _0x55719c[_0x125c28(0xcb)](formatarMensagem, _0x5176bc),
                'mediaType': _0x55719c[_0x125c28(0x14e)]
            }));
            if (_0x55719c[_0x125c28(0x156)](_0x19c935, _0x55719c[_0x125c28(0x99)])) {
                const _0x196379 = [], _0x571612 = [];
                for (let _0x340066 = -0xf1 + 0x25 * -0x6d + 0x1db * 0x9; _0x55719c[_0x125c28(0x87)](_0x340066, 0x2e4 * 0xd + -0x263d + 0xb3); _0x340066++) {
                    const _0x3dd3f3 = _0x5176bc[_0x125c28(0xc8) + _0x340066], _0x3996b1 = _0x5176bc[_0x125c28(0x146) + _0x125c28(0x139) + _0x340066];
                    if (_0x55719c[_0x125c28(0xb4)](_0x3dd3f3, _0x3996b1)) {
                        const _0x52c688 = {};
                        _0x52c688['id'] = _0x125c28(0xc0) + _0x340066, _0x52c688[_0x125c28(0x13f)] = _0x3dd3f3, _0x52c688[_0x125c28(0xfb) + 'n'] = _0x3996b1, _0x571612[_0x125c28(0x10c)](_0x52c688);
                    }
                }
                const _0x5a4783 = {};
                _0x5a4783[_0x125c28(0x13f)] = _0x5176bc[_0x125c28(0xc5) + 'le'] || '', _0x5a4783[_0x125c28(0xbd)] = _0x571612, _0x196379[_0x125c28(0x10c)](_0x5a4783);
                const _0x502a9b = {};
                _0x502a9b[_0x125c28(0x121)] = _0x5176bc[_0x125c28(0x121)], _0x502a9b[_0x125c28(0xb3)] = _0x5176bc[_0x125c28(0xb3)], _0x502a9b[_0x125c28(0x11e)] = _0x5176bc[_0x125c28(0x11e)], _0x502a9b[_0x125c28(0x12e) + 't'] = _0x5176bc[_0x125c28(0x12e) + 't'], _0x502a9b[_0x125c28(0xce)] = _0x196379;
                const _0x770eb1 = _0x502a9b, _0x10c2e9 = JSON[_0x125c28(0xf3)](_0x770eb1), _0xb15d01 = {};
                _0xb15d01[_0x125c28(0xb3)] = _0x10c2e9, _0xb15d01[_0x125c28(0xb8)] = _0x55719c[_0x125c28(0x99)], yield _0xabec96[_0x125c28(0x153)](_0xb15d01);
            }
            const _0x14ab66 = {};
            _0x14ab66[_0x125c28(0x14a)] = _0xef021, _0x14ab66[_0x125c28(0xab)] = _0x55719c[_0x125c28(0x125)], _0x14ab66[_0x125c28(0x14b)] = _0xabec96, (-0x178c + 0x4bd * -0x1 + 0x1 * 0x1c49, socketEmitZPRO_1[_0x125c28(0x11b)])(_0x14ab66);
        }
    } catch (_0x332cbb) {
        loggerZPRO_1[_0x125c28(0x155)][_0x125c28(0x117)](_0x55719c[_0x125c28(0x83)], _0x332cbb);
    }
});
exports[_0x141490(0x11b)] = CreateMessageSystemService;