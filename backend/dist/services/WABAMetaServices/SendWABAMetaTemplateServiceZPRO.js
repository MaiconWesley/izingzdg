'use strict';
const _0x356b29 = _0x3ebc;
(function (_0x386fbc, _0x47a68b) {
    const _0x34156b = _0x3ebc, _0x4a828c = _0x386fbc();
    while (!![]) {
        try {
            const _0x1c35bb = parseInt(_0x34156b(0x224)) / (0x1ff7 * -0x1 + -0xfc9 + -0xfeb * -0x3) + parseInt(_0x34156b(0x212)) / (0x3 * 0xce2 + -0x25df + -0x1 * 0xc5) + parseInt(_0x34156b(0x1e8)) / (-0x75b * -0x2 + 0x98f * 0x3 + 0x2 * -0x15b0) * (-parseInt(_0x34156b(0x26a)) / (-0xdcd + 0x42f * -0x3 + 0x1a5e)) + parseInt(_0x34156b(0x229)) / (0x1a5 * 0x3 + 0x2479 * -0x1 + 0x1f8f) + parseInt(_0x34156b(0x1ea)) / (-0x129d + 0x48d + 0xe16) * (parseInt(_0x34156b(0x252)) / (-0x1aa6 + -0x1dae + 0x80d * 0x7)) + parseInt(_0x34156b(0x1e6)) / (-0x4 * -0x5a8 + 0x184 + -0x181c) * (-parseInt(_0x34156b(0x235)) / (-0x407 * -0x2 + 0x1 * -0xca9 + 0x63 * 0xc)) + -parseInt(_0x34156b(0x25e)) / (0x1db7 + -0x18 * -0x46 + -0x243d);
            if (_0x1c35bb === _0x47a68b)
                break;
            else
                _0x4a828c['push'](_0x4a828c['shift']());
        } catch (_0x425426) {
            _0x4a828c['push'](_0x4a828c['shift']());
        }
    }
}(_0x1a48, 0x78f84 + 0x46514 + -0x4c914));
var __awaiter = this && this[_0x356b29(0x203)] || function (_0x1d97f8, _0x1ae010, _0xeeab32, _0x5e3c43) {
        const _0x5d4acd = _0x356b29, _0x35aef4 = {
                'pwhou': function (_0x2f19de, _0x572073) {
                    return _0x2f19de(_0x572073);
                },
                'aHWMy': function (_0x2f7d42, _0x54b639) {
                    return _0x2f7d42 instanceof _0x54b639;
                },
                'hNJpr': function (_0x47947b, _0x5d70a5) {
                    return _0x47947b(_0x5d70a5);
                },
                'mGjoI': _0x5d4acd(0x242)
            };
        function _0x562e1a(_0x30e62b) {
            const _0x3d7f59 = _0x5d4acd;
            return _0x35aef4[_0x3d7f59(0x239)](_0x30e62b, _0xeeab32) ? _0x30e62b : new _0xeeab32(function (_0x3210d0) {
                const _0x23cf6e = _0x3d7f59;
                _0x35aef4[_0x23cf6e(0x21e)](_0x3210d0, _0x30e62b);
            });
        }
        return new (_0xeeab32 || (_0xeeab32 = Promise))(function (_0x32623b, _0x357149) {
            const _0x27d6d0 = _0x5d4acd, _0xe6658c = {
                    'LraPz': function (_0x960a64, _0x3b39e5) {
                        const _0x252f13 = _0x3ebc;
                        return _0x35aef4[_0x252f13(0x21e)](_0x960a64, _0x3b39e5);
                    },
                    'oYeGz': function (_0x12e922, _0x4c8ef3) {
                        const _0x45bd26 = _0x3ebc;
                        return _0x35aef4[_0x45bd26(0x21e)](_0x12e922, _0x4c8ef3);
                    },
                    'rflOV': function (_0x4ba4d3, _0x1c9e43) {
                        const _0x40d9e3 = _0x3ebc;
                        return _0x35aef4[_0x40d9e3(0x24b)](_0x4ba4d3, _0x1c9e43);
                    },
                    'ajFLI': _0x35aef4[_0x27d6d0(0x1fd)]
                };
            function _0x48c019(_0x58befc) {
                const _0x2a65b3 = _0x27d6d0;
                try {
                    _0xe6658c[_0x2a65b3(0x24a)](_0x248bf9, _0x5e3c43[_0x2a65b3(0x21c)](_0x58befc));
                } catch (_0x32dfac) {
                    _0xe6658c[_0x2a65b3(0x246)](_0x357149, _0x32dfac);
                }
            }
            function _0x11de34(_0x102e5f) {
                const _0x3c23ca = _0x27d6d0;
                try {
                    _0xe6658c[_0x3c23ca(0x1ff)](_0x248bf9, _0x5e3c43[_0xe6658c[_0x3c23ca(0x250)]](_0x102e5f));
                } catch (_0x50597e) {
                    _0xe6658c[_0x3c23ca(0x24a)](_0x357149, _0x50597e);
                }
            }
            function _0x248bf9(_0x54fc9a) {
                const _0x1ab34d = _0x27d6d0;
                _0x54fc9a[_0x1ab34d(0x20c)] ? _0x35aef4[_0x1ab34d(0x21e)](_0x32623b, _0x54fc9a[_0x1ab34d(0x211)]) : _0x35aef4[_0x1ab34d(0x24b)](_0x562e1a, _0x54fc9a[_0x1ab34d(0x211)])[_0x1ab34d(0x21a)](_0x48c019, _0x11de34);
            }
            _0x35aef4[_0x27d6d0(0x21e)](_0x248bf9, (_0x5e3c43 = _0x5e3c43[_0x27d6d0(0x219)](_0x1d97f8, _0x1ae010 || []))[_0x27d6d0(0x21c)]());
        });
    }, __importDefault = this && this[_0x356b29(0x257) + _0x356b29(0x23a)] || function (_0x137f6c) {
        const _0x4bf749 = _0x356b29;
        return _0x137f6c && _0x137f6c[_0x4bf749(0x207)] ? _0x137f6c : { 'default': _0x137f6c };
    };
const _0xd45884 = {};
function _0x3ebc(_0x2b606c, _0x4180ff) {
    const _0x102e75 = _0x1a48();
    return _0x3ebc = function (_0x536316, _0x51e8f4) {
        _0x536316 = _0x536316 - (0x1f18 + -0x26 * -0x5 + -0x1 * 0x1df9);
        let _0x251fed = _0x102e75[_0x536316];
        return _0x251fed;
    }, _0x3ebc(_0x2b606c, _0x4180ff);
}
_0xd45884[_0x356b29(0x211)] = !![], Object[_0x356b29(0x1e5) + _0x356b29(0x22b)](exports, _0x356b29(0x207), _0xd45884);
const axios_1 = __importDefault(require(_0x356b29(0x1fc))), TicketZPRO_1 = __importDefault(require(_0x356b29(0x24e) + _0x356b29(0x238) + _0x356b29(0x1ee))), MessageZPRO_1 = __importDefault(require(_0x356b29(0x24e) + _0x356b29(0x23c) + _0x356b29(0x22f))), socketEmitZPRO_1 = __importDefault(require(_0x356b29(0x264) + _0x356b29(0x21d) + _0x356b29(0x240))), AppErrorZPRO_1 = __importDefault(require(_0x356b29(0x1ec) + _0x356b29(0x254) + _0x356b29(0x24c))), loggerZPRO_1 = require(_0x356b29(0x20f) + _0x356b29(0x247) + 'RO');
class SendTemplateMessageComponents {
    [_0x356b29(0x1de) + _0x356b29(0x25c) + _0x356b29(0x1f4)]({
        from: _0x2ffb78,
        phone_number_id: _0x28bb32,
        message: _0x2cdf8e,
        ticket: _0x45564b,
        tenantId: _0x3ea097,
        idFront: _0x2d9aaf,
        whatsapp: _0x4dc7ab,
        language: _0xd85f97,
        templateName: _0x309d59,
        components: _0x1830ac
    }) {
        const _0x123754 = _0x356b29, _0x2ca74b = {
                'sGzYM': function (_0x27412e, _0x181cb1) {
                    return _0x27412e !== _0x181cb1;
                },
                'YfCdq': _0x123754(0x241),
                'opkja': _0x123754(0x1fb) + _0x123754(0x225),
                'mRbye': function (_0x4b50e9, _0x6d7733) {
                    return _0x4b50e9 === _0x6d7733;
                },
                'zLuCw': function (_0x549e58, _0x128b0a) {
                    return _0x549e58 === _0x128b0a;
                },
                'OpIaG': _0x123754(0x218),
                'tbKSd': _0x123754(0x22a),
                'KvOIw': _0x123754(0x1fe),
                'eGITV': function (_0x11a4d3, _0x29c929) {
                    return _0x11a4d3 === _0x29c929;
                },
                'TPXyq': _0x123754(0x233),
                'iFhjE': function (_0x1f0fc0, _0x324b46) {
                    return _0x1f0fc0 === _0x324b46;
                },
                'eOkqp': _0x123754(0x21b),
                'PLaqS': _0x123754(0x26d),
                'ajZvY': function (_0x22bdca, _0x19a9f7) {
                    return _0x22bdca === _0x19a9f7;
                },
                'aoRfa': _0x123754(0x1eb),
                'CCnrT': _0x123754(0x258),
                'NfDIe': _0x123754(0x269),
                'kPWYV': _0x123754(0x261),
                'ODmjx': _0x123754(0x262),
                'rwNVj': _0x123754(0x26e),
                'agods': _0x123754(0x255) + _0x123754(0x23b),
                'teIHs': function (_0x3422ea, _0x20da9b) {
                    return _0x3422ea || _0x20da9b;
                },
                'nktNk': _0x123754(0x214),
                'GtITo': _0x123754(0x200),
                'bJldz': _0x123754(0x20a) + _0x123754(0x24d),
                'xbnub': _0x123754(0x202),
                'ZNVtB': _0x123754(0x266) + _0x123754(0x26c) + _0x123754(0x259) + _0x123754(0x251) + _0x123754(0x220),
                'ihfuo': function (_0x4e1026, _0x36902c, _0x2bd22e, _0x99365d, _0x536712) {
                    return _0x4e1026(_0x36902c, _0x2bd22e, _0x99365d, _0x536712);
                }
            };
        return _0x2ca74b[_0x123754(0x213)](__awaiter, this, void (0x104f * 0x2 + -0xd15 + 0x683 * -0x3), void (0x163e + -0x72f * 0x5 + 0x9 * 0x185), function* () {
            const _0x13f480 = _0x123754;
            if (_0x2ca74b[_0x13f480(0x23d)](_0x4dc7ab[_0x13f480(0x223)], _0x2ca74b[_0x13f480(0x256)]))
                throw new AppErrorZPRO_1[(_0x13f480(0x209))](_0x2ca74b[_0x13f480(0x22e)], 0x858 * 0x2 + -0x54 * -0x2 + -0xfc8);
            try {
                const _0x3ed85c = _0x13f480(0x208) + _0x13f480(0x260) + _0x13f480(0x231) + (_0x2ca74b[_0x13f480(0x21f)](_0x4dc7ab, null) || _0x2ca74b[_0x13f480(0x21f)](_0x4dc7ab, void (-0x8d * 0x5 + -0x5ec * -0x5 + -0x1adb)) ? void (0x68b + -0x111d * 0x2 + 0x1 * 0x1baf) : _0x4dc7ab[_0x13f480(0x24f) + 'n']) + '/' + _0x28bb32 + (_0x13f480(0x1fa) + _0x13f480(0x22d) + _0x13f480(0x1ef)) + (_0x2ca74b[_0x13f480(0x1f6)](_0x4dc7ab, null) || _0x2ca74b[_0x13f480(0x1f6)](_0x4dc7ab, void (-0x2464 * 0x1 + 0x2 * -0x12ee + -0x24 * -0x210)) ? void (0x3 * -0xb07 + 0xcf1 + 0x1424) : _0x4dc7ab[_0x13f480(0x248)]), _0x243048 = {};
                _0x243048[_0x13f480(0x25b)] = _0xd85f97;
                const _0x57c39c = {};
                _0x57c39c[_0x13f480(0x1e0)] = _0x309d59, _0x57c39c[_0x13f480(0x1f7)] = _0x243048, _0x57c39c[_0x13f480(0x232)] = [];
                const _0x16e536 = {};
                _0x16e536[_0x13f480(0x244) + _0x13f480(0x215)] = _0x2ca74b[_0x13f480(0x26b)], _0x16e536['to'] = _0x2ffb78, _0x16e536[_0x13f480(0x1e9)] = _0x2ca74b[_0x13f480(0x245)], _0x16e536[_0x13f480(0x22a)] = _0x57c39c;
                const _0x4cc9ce = _0x16e536;
                if (_0x1830ac)
                    for (const _0x19a88c of _0x1830ac) {
                        if (_0x2ca74b[_0x13f480(0x21f)](_0x19a88c[_0x13f480(0x1e9)], _0x2ca74b[_0x13f480(0x216)])) {
                            let _0x301acd = {};
                            if (_0x2ca74b[_0x13f480(0x25d)](_0x19a88c[_0x13f480(0x230)], _0x2ca74b[_0x13f480(0x25a)]) || _0x2ca74b[_0x13f480(0x1f5)](_0x19a88c[_0x13f480(0x230)], _0x2ca74b[_0x13f480(0x25f)]) || _0x2ca74b[_0x13f480(0x1f6)](_0x19a88c[_0x13f480(0x230)], _0x2ca74b[_0x13f480(0x236)]))
                                _0x301acd = {
                                    'type': _0x19a88c[_0x13f480(0x230)][_0x13f480(0x1f9) + 'e'](),
                                    [_0x19a88c[_0x13f480(0x230)][_0x13f480(0x1f9) + 'e']()]: { 'link': _0x19a88c[_0x13f480(0x211)] }
                                };
                            else {
                                if (_0x2ca74b[_0x13f480(0x243)](_0x19a88c[_0x13f480(0x230)], _0x2ca74b[_0x13f480(0x265)])) {
                                    const _0x10855a = {};
                                    _0x10855a[_0x13f480(0x1e9)] = _0x2ca74b[_0x13f480(0x210)], _0x10855a[_0x13f480(0x258)] = _0x19a88c[_0x13f480(0x211)], _0x301acd = _0x10855a;
                                }
                            }
                            const _0x4b5985 = {};
                            _0x4b5985[_0x13f480(0x1e9)] = _0x2ca74b[_0x13f480(0x222)], _0x4b5985[_0x13f480(0x23f)] = [_0x301acd], _0x4cc9ce[_0x13f480(0x22a)][_0x13f480(0x232)][_0x13f480(0x20b)](_0x4b5985);
                        } else {
                            if (_0x2ca74b[_0x13f480(0x1f5)](_0x19a88c[_0x13f480(0x1e9)], _0x2ca74b[_0x13f480(0x1f0)])) {
                                const _0x1d01cf = _0x19a88c[_0x13f480(0x263)][_0x13f480(0x1f8)](_0xe10fe0 => ({
                                        'type': _0x13f480(0x258),
                                        'text': _0xe10fe0
                                    })), _0x5c3631 = {};
                                _0x5c3631[_0x13f480(0x1e9)] = _0x2ca74b[_0x13f480(0x1f3)], _0x5c3631[_0x13f480(0x23f)] = _0x1d01cf, _0x4cc9ce[_0x13f480(0x22a)][_0x13f480(0x232)][_0x13f480(0x20b)](_0x5c3631);
                            }
                        }
                    }
                const _0x21c463 = {};
                _0x21c463[_0x13f480(0x20e)] = _0x2ca74b[_0x13f480(0x228)], _0x21c463[_0x13f480(0x201)] = _0x3ed85c, _0x21c463[_0x13f480(0x1e2)] = _0x4cc9ce, _0x21c463[_0x13f480(0x227)] = {}, _0x21c463[_0x13f480(0x227)][_0x13f480(0x268) + 'pe'] = _0x2ca74b[_0x13f480(0x234)];
                const _0x51c975 = yield (0x1cfb + 0x46 + -0x1 * 0x1d41, axios_1[_0x13f480(0x209)])(_0x21c463);
                let _0x30ff30 = Date[_0x13f480(0x204)]();
                const _0x3eb0ca = {
                        'messageId': _0x51c975[_0x13f480(0x1e2)][_0x13f480(0x249)][0x17d7 + -0x1cf3 * -0x1 + -0x34ca]['id'] || '',
                        'ticketId': _0x45564b['id'],
                        'contactId': _0x45564b[_0x13f480(0x237)]['id'],
                        'body': _0x2ca74b[_0x13f480(0x205)](_0x2cdf8e, ''),
                        'fromMe': !![],
                        'mediaType': _0x2ca74b[_0x13f480(0x1f2)],
                        'read': !![],
                        'ack': 0x2,
                        'timestamp': _0x30ff30,
                        'status': _0x2ca74b[_0x13f480(0x267)]
                    }, _0x12d3eb = {};
                _0x12d3eb['id'] = _0x45564b['id'];
                const _0x46fc22 = {};
                _0x46fc22[_0x13f480(0x226)] = _0x12d3eb;
                const _0x21d765 = yield TicketZPRO_1[_0x13f480(0x209)][_0x13f480(0x20d)](_0x46fc22);
                if (!_0x21d765)
                    return;
                yield _0x21d765[_0x13f480(0x1ed)]({
                    'lastMessage': _0x3eb0ca[_0x13f480(0x262)],
                    'lastMessageAt': new Date()[_0x13f480(0x1f1)](),
                    'answered': _0x51c975[_0x13f480(0x1e2)][_0x13f480(0x206)] || ![]
                });
                const _0x20c683 = {};
                _0x20c683[_0x13f480(0x1e7)] = _0x2d9aaf, _0x20c683[_0x13f480(0x221)] = _0x3ea097;
                const _0x5eb2f5 = {};
                _0x5eb2f5[_0x13f480(0x226)] = _0x20c683;
                const _0x2c6a83 = yield MessageZPRO_1[_0x13f480(0x209)][_0x13f480(0x20d)](_0x5eb2f5);
                if (!_0x2c6a83)
                    return;
                const _0x436518 = {};
                _0x436518[_0x13f480(0x1df)] = _0x51c975[_0x13f480(0x1e2)][_0x13f480(0x249)][0x19cc + 0x241d + 0x9 * -0x6e1]['id'], _0x436518[_0x13f480(0x217)] = _0x2ca74b[_0x13f480(0x1f2)], _0x436518[_0x13f480(0x22c)] = 0x2, _0x436518[_0x13f480(0x223)] = _0x2ca74b[_0x13f480(0x267)], yield _0x2c6a83[_0x13f480(0x1ed)](_0x436518);
                const _0x370b5a = {};
                _0x370b5a[_0x13f480(0x221)] = _0x3ea097, _0x370b5a[_0x13f480(0x1e9)] = _0x2ca74b[_0x13f480(0x1e4)], _0x370b5a[_0x13f480(0x1e1)] = _0x45564b, (-0x22d3 + -0xb * -0x1fd + 0x67a * 0x2, socketEmitZPRO_1[_0x13f480(0x209)])(_0x370b5a);
                const _0x29286e = {};
                _0x29286e[_0x13f480(0x1df)] = _0x51c975[_0x13f480(0x1e2)][_0x13f480(0x249)][0x1b00 + 0xabb + 0x2e7 * -0xd]['id'], _0x29286e[_0x13f480(0x221)] = _0x3ea097;
                const _0x1e5f1b = {};
                _0x1e5f1b[_0x13f480(0x226)] = _0x29286e;
                const _0x141151 = yield MessageZPRO_1[_0x13f480(0x209)][_0x13f480(0x20d)](_0x1e5f1b);
                if (!_0x141151)
                    return;
                const _0x396ec0 = {};
                return _0x396ec0[_0x13f480(0x221)] = _0x3ea097, _0x396ec0[_0x13f480(0x1e9)] = _0x2ca74b[_0x13f480(0x253)], _0x396ec0[_0x13f480(0x1e1)] = _0x141151, (0xf38 + -0xd22 * -0x2 + -0x297c, socketEmitZPRO_1[_0x13f480(0x209)])(_0x396ec0), _0x51c975[_0x13f480(0x1e2)];
            } catch (_0xa89522) {
                loggerZPRO_1[_0x13f480(0x23e)][_0x13f480(0x1e3)](_0x2ca74b[_0x13f480(0x1dd)]);
                throw _0xa89522;
            }
        });
    }
}
exports[_0x356b29(0x209)] = SendTemplateMessageComponents;
function _0x1a48() {
    const _0x24c627 = [
        'body',
        'variables',
        '../../help',
        'aoRfa',
        ':::\x20Z-PRO\x20',
        'GtITo',
        'Content-Ty',
        'header',
        '638628jVOsQW',
        'OpIaG',
        ':::\x20ZDG\x20::',
        'DOCUMENT',
        'POST',
        'ZNVtB',
        'sendTempla',
        'messageId',
        'name',
        'payload',
        'data',
        'warn',
        'bJldz',
        'defineProp',
        '1984oZoxBj',
        'idFront',
        '3ctRRrB',
        'type',
        '2135394XwdKvT',
        'TEXT',
        '../../erro',
        'update',
        'PRO',
        'en=',
        'kPWYV',
        'getTime',
        'nktNk',
        'ODmjx',
        'omponents',
        'iFhjE',
        'zLuCw',
        'language',
        'map',
        'toLowerCas',
        '/messages?',
        'ERR_WHATSA',
        'axios',
        'mGjoI',
        'HEADER',
        'rflOV',
        'sended',
        'url',
        'chat:ack',
        '__awaiter',
        'now',
        'teIHs',
        'fromMe',
        '__esModule',
        'https://gr',
        'default',
        'ticket:upd',
        'push',
        'done',
        'findOne',
        'method',
        '../../util',
        'CCnrT',
        'value',
        '472614vXIeGc',
        'ihfuo',
        'templates',
        'product',
        'KvOIw',
        'mediaType',
        'whatsapp',
        'apply',
        'then',
        'VIDEO',
        'next',
        'ers/socket',
        'pwhou',
        'mRbye',
        '\x20error',
        'tenantId',
        'NfDIe',
        'status',
        '887629fIRvim',
        'PP_OFFLINE',
        'where',
        'headers',
        'rwNVj',
        '1251765BvhGGE',
        'template',
        'erty',
        'ack',
        'access_tok',
        'opkja',
        'ZPRO',
        'format',
        'ok.com/v',
        'components',
        'IMAGE',
        'agods',
        '33498NZSsYN',
        'PLaqS',
        'contact',
        'ls/TicketZ',
        'aHWMy',
        'fault',
        'n/json',
        'ls/Message',
        'sGzYM',
        'logger',
        'parameters',
        'EmitZPRO',
        'CONNECTED',
        'throw',
        'ajZvY',
        'messaging_',
        'tbKSd',
        'oYeGz',
        's/loggerZP',
        'bmToken',
        'messages',
        'LraPz',
        'hNJpr',
        'rZPRO',
        'ate',
        '../../mode',
        'wabaVersio',
        'ajFLI',
        'd\x20template',
        '14dFGxzL',
        'xbnub',
        'rs/AppErro',
        'applicatio',
        'YfCdq',
        '__importDe',
        'text',
        ':\x20WABA\x20sen',
        'TPXyq',
        'code',
        'teMessageC',
        'eGITV',
        '5334820XqUmSW',
        'eOkqp',
        'aph.facebo',
        'BODY'
    ];
    _0x1a48 = function () {
        return _0x24c627;
    };
    return _0x1a48();
}